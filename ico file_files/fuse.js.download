!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var t={fuse_blocked_url:[],fuse_breakpoints:{m:960,s:600,xs:0},fuse_cdn:"//cdn.fuseplatform.net/publift/tags/",fuse_id:2291,fuse_industry:["IAB19"],fuse_settings:{adblock:!1,amazonUam:{enabled:!1},blockthrough:!0,cmp:!0,confiant:!1,disableAutoLoadSlots:!1,disable_quantcast:!1,headerbidding:1e3,identity:{enabled:!1},inskinWidth:1200,lazy:!1,prebid:{breakpoint_options:{m:{enabled:!0,timeout:1e3},s:{enabled:!0,timeout:1e3},xs:{enabled:!0,timeout:1e3}},defaultTimeout:1e3,enabled:!0,sendAllBids:!1},quickstart:!1,responsive:!0,strict_cmp:!1,useDomObserver:!1,publication_metadata:{publication_id:1,generation_version:"3.2459.0",generation_time:"2021-12-14T07:24:22.670Z",revision:"v2"}},fuse_slots:[{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:25},bids:[{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x250"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x100"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"336x280"}},{bidder:"33across",labelAny:["s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"468x60"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"728x90"}},{bidder:"amx",labelAny:["xs"],params:{size:"300x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x100",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"336x280",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["s"],params:{size:"468x60",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"728x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899537"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250332839_1486321_300x250",size:"300x250",zoneId:"1486321"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250332839_1486320_320x100",size:"320x100",zoneId:"1486320"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250332839_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250332839_1486323_336x280",size:"336x280",zoneId:"1486323"}},{bidder:"criteo",labelAny:["m","s"],params:{publisherSubId:"22250332839_1486324_728x90",size:"728x90",zoneId:"1486324"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x100",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"emx_digital",labelAny:["s"],params:{size:"468x60",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"728x90",tagid:"135992"}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[300,250]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,100]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[336,280]}},{bidder:"ix",labelAny:["s"],params:{siteId:"623400",size:[468,60]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[728,90]}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x100",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"openx",labelAny:["s"],params:{delDomain:"publift-d.openx.net",size:"468x60",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"728x90",unit:"544009443"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@320x100",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@320x50",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@336x280",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["s"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@468x60",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_header@728x90",publisherId:"156762"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x250"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x100"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"336x280"}},{bidder:"triplelift",labelAny:["s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"468x60"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"728x90"}}],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"22250332839",sizeMapping:{l:[],m:[[728,90]],s:[[468,60],[728,90]],xl:[],xs:[[300,250],[320,50],[320,100],[336,280]]},sizes:[[300,250],[320,50],[320,100],[336,280],[468,60],[728,90]],slot:"/71161633,309850494/EZIP_ezyzip/home_header"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[{bidder:"33across",labelAny:["m","xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x250"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x100"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"33across",labelAny:["m","xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"336x280"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"468x60"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"728x90"}},{bidder:"amx",labelAny:["m","xs"],params:{size:"300x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x100",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","xs"],params:{size:"336x280",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"468x60",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"728x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899535"}},{bidder:"criteo",labelAny:["m","xs"],params:{publisherSubId:"22250334135_1486321_300x250",size:"300x250",zoneId:"1486321"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334135_1486320_320x100",size:"320x100",zoneId:"1486320"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334135_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"criteo",labelAny:["m","xs"],params:{publisherSubId:"22250334135_1486323_336x280",size:"336x280",zoneId:"1486323"}},{bidder:"criteo",labelAny:["m","s"],params:{publisherSubId:"22250334135_1486324_728x90",size:"728x90",zoneId:"1486324"}},{bidder:"emx_digital",labelAny:["m","xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x100",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"468x60",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"728x90",tagid:"135992"}},{bidder:"ix",labelAny:["m","xs"],params:{siteId:"623400",size:[300,250]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,100]}},{bidder:"ix",labelAny:["m","xs"],params:{siteId:"623400",size:[336,280]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[468,60]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[728,90]}},{bidder:"openx",labelAny:["m","xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x100",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"openx",labelAny:["m","xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"468x60",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"728x90",unit:"544009443"}},{bidder:"pubmatic",labelAny:["m","xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@320x100",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@320x50",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@336x280",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@468x60",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_1@728x90",publisherId:"156762"}},{bidder:"triplelift",labelAny:["m","xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x250"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x100"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}},{bidder:"triplelift",labelAny:["m","xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"336x280"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"468x60"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"728x90"}}],id:"22250334135",sizeMapping:{m:[[300,250],[336,280],[468,60],[728,90]],s:[[468,60],[728,90]],xs:[[300,250],[320,50],[320,100],[336,280]]},sizes:[[300,250],[320,50],[320,100],[336,280],[468,60],[728,90]],slot:"/71161633,309850494/EZIP_ezyzip/home_incontent_1"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[{bidder:"33across",labelAny:["m","xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x250"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x100"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"33across",labelAny:["m","xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"336x280"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"468x60"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"728x90"}},{bidder:"amx",labelAny:["m","xs"],params:{size:"300x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x100",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","xs"],params:{size:"336x280",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"468x60",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"728x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899536"}},{bidder:"criteo",labelAny:["m","xs"],params:{publisherSubId:"22250334138_1486321_300x250",size:"300x250",zoneId:"1486321"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334138_1486320_320x100",size:"320x100",zoneId:"1486320"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334138_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"criteo",labelAny:["m","xs"],params:{publisherSubId:"22250334138_1486323_336x280",size:"336x280",zoneId:"1486323"}},{bidder:"criteo",labelAny:["m","s"],params:{publisherSubId:"22250334138_1486324_728x90",size:"728x90",zoneId:"1486324"}},{bidder:"emx_digital",labelAny:["m","xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x100",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"468x60",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"728x90",tagid:"135992"}},{bidder:"ix",labelAny:["m","xs"],params:{siteId:"623400",size:[300,250]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,100]}},{bidder:"ix",labelAny:["m","xs"],params:{siteId:"623400",size:[336,280]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[468,60]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[728,90]}},{bidder:"openx",labelAny:["m","xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x100",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"openx",labelAny:["m","xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"468x60",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"728x90",unit:"544009443"}},{bidder:"pubmatic",labelAny:["m","xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@320x100",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@320x50",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@336x280",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@468x60",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_incontent_2@728x90",publisherId:"156762"}},{bidder:"triplelift",labelAny:["m","xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x250"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x100"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}},{bidder:"triplelift",labelAny:["m","xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"336x280"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"468x60"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"728x90"}}],id:"22250334138",sizeMapping:{m:[[300,250],[336,280],[468,60],[728,90]],s:[[468,60],[728,90]],xs:[[300,250],[320,50],[320,100],[336,280]]},sizes:[[300,250],[320,50],[320,100],[336,280],[468,60],[728,90]],slot:"/71161633,309850494/EZIP_ezyzip/home_incontent_2"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:25},bids:[{bidder:"33across",labelAny:["s","xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"amx",labelAny:["s","xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899538"}},{bidder:"criteo",labelAny:["s","xs"],params:{publisherSubId:"22250334141_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"emx_digital",labelAny:["s","xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"ix",labelAny:["s","xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"openx",labelAny:["s","xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"pubmatic",labelAny:["s","xs"],params:{adSlot:"71161633/EZIP_ezyzip/mob_footer_sticky@320x50",publisherId:"156762"}},{bidder:"triplelift",labelAny:["s","xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}}],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"22250334141",sizeMapping:{l:[],m:[],s:[[320,50]],xl:[],xs:[[320,50]]},sizes:[[320,50]],slot:"/71161633,309850494/EZIP_ezyzip/mob_footer_sticky"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:30},bids:[{bidder:"33across",labelAny:["m"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x600"}},{bidder:"amx",labelAny:["m"],params:{size:"300x600",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899539"}},{bidder:"criteo",labelAny:["m"],params:{publisherSubId:"22250334144_1486322_300x600",size:"300x600",zoneId:"1486322"}},{bidder:"emx_digital",labelAny:["m"],params:{size:"300x600",tagid:"135992"}},{bidder:"ix",labelAny:["m"],params:{siteId:"623400",size:[300,600]}},{bidder:"openx",labelAny:["m"],params:{delDomain:"publift-d.openx.net",size:"300x600",unit:"544009443"}},{bidder:"pubmatic",labelAny:["m"],params:{adSlot:"71161633/EZIP_ezyzip/home_vrec_1@300x600",publisherId:"156762"}},{bidder:"triplelift",labelAny:["m"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x600"}}],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"22250334144",sizeMapping:{l:[],m:[[300,600]],s:[],xl:[],xs:[]},sizes:[[300,600]],slot:"/71161633,309850494/EZIP_ezyzip/home_vrec_1"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:25},bids:[{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x250"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x100"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"336x280"}},{bidder:"33across",labelAny:["m"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"728x90"}},{bidder:"amx",labelAny:["xs"],params:{size:"300x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x100",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"336x280",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m"],params:{size:"728x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899540"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334147_1486321_300x250",size:"300x250",zoneId:"1486321"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334147_1486320_320x100",size:"320x100",zoneId:"1486320"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334147_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334147_1486323_336x280",size:"336x280",zoneId:"1486323"}},{bidder:"criteo",labelAny:["m"],params:{publisherSubId:"22250334147_1486324_728x90",size:"728x90",zoneId:"1486324"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x100",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m"],params:{size:"728x90",tagid:"135992"}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[300,250]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,100]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[336,280]}},{bidder:"ix",labelAny:["m"],params:{siteId:"623400",size:[728,90]}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x100",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"openx",labelAny:["m"],params:{delDomain:"publift-d.openx.net",size:"728x90",unit:"544009443"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/desk_footer_sticky@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/desk_footer_sticky@320x100",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/desk_footer_sticky@320x50",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/desk_footer_sticky@336x280",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m"],params:{adSlot:"71161633/EZIP_ezyzip/desk_footer_sticky@728x90",publisherId:"156762"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x250"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x100"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"336x280"}},{bidder:"triplelift",labelAny:["m"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"728x90"}}],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"22250334147",sizeMapping:{l:[],m:[[728,90]],s:[],xl:[],xs:[[300,250],[320,50],[320,100],[336,280]]},sizes:[[300,250],[320,50],[320,100],[336,280],[728,90]],slot:"/71161633,309850494/EZIP_ezyzip/desk_footer_sticky"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"300x250"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x100"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"320x50"}},{bidder:"33across",labelAny:["xs"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"336x280"}},{bidder:"33across",labelAny:["s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"468x60"}},{bidder:"33across",labelAny:["m","s"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"728x90"}},{bidder:"33across",labelAny:["m"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"970x250"}},{bidder:"33across",labelAny:["m"],params:{productId:"siab",siteId:"cLtr7WyLqr67ujaKj0P0Le",size:"970x90"}},{bidder:"amx",labelAny:["xs"],params:{size:"300x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x100",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"320x50",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["xs"],params:{size:"336x280",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["s"],params:{size:"468x60",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m","s"],params:{size:"728x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m"],params:{size:"970x250",tagId:"cHVibGlmdC5jb20"}},{bidder:"amx",labelAny:["m"],params:{size:"970x90",tagId:"cHVibGlmdC5jb20"}},{bidder:"appnexus",params:{placementId:"20899541"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334150_1486321_300x250",size:"300x250",zoneId:"1486321"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334150_1486320_320x100",size:"320x100",zoneId:"1486320"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334150_1486319_320x50",size:"320x50",zoneId:"1486319"}},{bidder:"criteo",labelAny:["xs"],params:{publisherSubId:"22250334150_1486323_336x280",size:"336x280",zoneId:"1486323"}},{bidder:"criteo",labelAny:["m","s"],params:{publisherSubId:"22250334150_1486324_728x90",size:"728x90",zoneId:"1486324"}},{bidder:"criteo",labelAny:["m"],params:{publisherSubId:"22250334150_1486326_970x250",size:"970x250",zoneId:"1486326"}},{bidder:"criteo",labelAny:["m"],params:{publisherSubId:"22250334150_1486325_970x90",size:"970x90",zoneId:"1486325"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x100",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"320x50",tagid:"135992"}},{bidder:"emx_digital",labelAny:["xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"emx_digital",labelAny:["s"],params:{size:"468x60",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m","s"],params:{size:"728x90",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m"],params:{size:"970x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["m"],params:{size:"970x90",tagid:"135992"}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[300,250]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,50]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[320,100]}},{bidder:"ix",labelAny:["xs"],params:{siteId:"623400",size:[336,280]}},{bidder:"ix",labelAny:["s"],params:{siteId:"623400",size:[468,60]}},{bidder:"ix",labelAny:["m","s"],params:{siteId:"623400",size:[728,90]}},{bidder:"ix",labelAny:["m"],params:{siteId:"623400",size:[970,90]}},{bidder:"ix",labelAny:["m"],params:{siteId:"623400",size:[970,250]}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x100",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"320x50",unit:"544009443"}},{bidder:"openx",labelAny:["xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"openx",labelAny:["s"],params:{delDomain:"publift-d.openx.net",size:"468x60",unit:"544009443"}},{bidder:"openx",labelAny:["m","s"],params:{delDomain:"publift-d.openx.net",size:"728x90",unit:"544009443"}},{bidder:"openx",labelAny:["m"],params:{delDomain:"publift-d.openx.net",size:"970x250",unit:"544009443"}},{bidder:"openx",labelAny:["m"],params:{delDomain:"publift-d.openx.net",size:"970x90",unit:"544009443"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@320x100",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@320x50",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["xs"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@336x280",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["s"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@468x60",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m","s"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@728x90",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@970x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["m"],params:{adSlot:"71161633/EZIP_ezyzip/home_footer@970x90",publisherId:"156762"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"300x250"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x100"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"320x50"}},{bidder:"triplelift",labelAny:["xs"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"336x280"}},{bidder:"triplelift",labelAny:["s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"468x60"}},{bidder:"triplelift",labelAny:["m","s"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"728x90"}},{bidder:"triplelift",labelAny:["m"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"970x250"}},{bidder:"triplelift",labelAny:["m"],params:{inventoryCode:"Ezyzip_StandardDisplay",size:"970x90"}}],id:"22250334150",sizeMapping:{m:[[728,90],[970,90],[970,250]],s:[[468,60],[728,90]],xs:[[300,250],[320,50],[320,100],[336,280]]},sizes:[[300,250],[320,50],[320,100],[336,280],[468,60],[728,90],[970,90],[970,250]],slot:"/71161633,309850494/EZIP_ezyzip/home_footer"},{attributes:{adblock:!1,headerbidding:!1,interstitial:!0,lazy:!1,refresh:!1},bids:[{bidder:"appnexus",params:{placementId:"21002966"}},{bidder:"emx_digital",labelAny:["s","xs"],params:{size:"300x250",tagid:"135992"}},{bidder:"emx_digital",labelAny:["s","xs"],params:{size:"336x280",tagid:"135992"}},{bidder:"openx",labelAny:["s","xs"],params:{delDomain:"publift-d.openx.net",size:"300x250",unit:"544009443"}},{bidder:"openx",labelAny:["s","xs"],params:{delDomain:"publift-d.openx.net",size:"336x280",unit:"544009443"}},{bidder:"pubmatic",labelAny:["s","xs"],params:{adSlot:"71161633/EZIP_ezyzip/mweb_interstitial_@300x250",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["s","xs"],params:{adSlot:"71161633/EZIP_ezyzip/mweb_interstitial_@320x480",publisherId:"156762"}},{bidder:"pubmatic",labelAny:["s","xs"],params:{adSlot:"71161633/EZIP_ezyzip/mweb_interstitial_@336x280",publisherId:"156762"}}],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"22276173694",sizeMapping:{l:[],m:[],s:[[300,250],[320,480],[336,280]],xl:[],xs:[[300,250],[320,480],[336,280]]},sizes:[[300,250],[320,480],[336,280]],slot:"/71161633,309850494/EZIP_ezyzip/mweb_interstitial_"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[],id:"22378613778",sizeMapping:{m:[[300,169],[400,300],[640,480]],s:[[300,169],[400,300],[640,480]],xs:[[300,169],[400,300],[640,480]]},sizes:[[300,169],[400,300],[640,480]],slot:"/71161633,309850494/EZIP_ezyzip/video_adx"},{attributes:{adblock:!1,headerbidding:!0,lazy:!1,refresh:!1},bids:[],id:"22387401351",sizeMapping:{m:[[300,169],[400,300],[640,480]],s:[[300,169],[400,300],[640,480]],xs:[[300,169],[400,300],[640,480]]},sizes:[[300,169],[400,300],[640,480]],slot:"/71161633,309850494/EZIP_ezyzip/outstream_1"}],fuse_tenant:"publift",fuse_uuid:"3f6e98e2-223a-5f0c-97fa-9968bd969762",supported_sizes:{l:[],m:[[300,169],[300,250],[300,600],[336,280],[400,300],[468,60],[640,480],[728,90],[970,90],[970,250]],s:[[300,169],[300,250],[320,50],[320,480],[336,280],[400,300],[468,60],[640,480],[728,90]],xl:[],xs:[[300,169],[300,250],[320,50],[320,100],[320,480],[336,280],[400,300],[640,480]]},tenantId:"DGKSPXNV53"};function n(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){d(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var b=this;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<b.length;i++)e.call(t,b[i],i,b)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;for(var r,o,t=0|t,a=Math.max(0<=t?t:n-Math.abs(t),0);a<n;){if((r=i[a])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var g=function(){function t(e){r(this,t),this.pubID=e.pubID,this.adServer=e.adServer,this.logger=e.logger,this.browserWindow=e.browserWindow,this.gdpr={},this.params={},this.sco=e.sco||{}}return i(t,[{key:"loadAmazonUam",value:function(i,n,e,t,r,o,a){function s(e,t){n[i]._Q.push([e,t])}n[i]||(n[i]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=e.createElement(t)).async=!0,o.src=r,(a=e.getElementsByTagName(t)[0]).parentNode.insertBefore(o,a))}},{key:"applyCCPA",value:function(e){this.params={us_privacy:e},this.logger.log("[CONSENT]: CCPA config passed onto UAM")}},{key:"applyGDPR",value:function(){this.gdpr={cmpTimeout:1e4},this.logger.log("[CONSENT]: GDPR config passed onto UAM")}},{key:"getUamConfig",value:function(){var e={pubID:this.pubID,adServer:this.adServer};return Object.getOwnPropertyNames(this.gdpr).length&&(e.gdpr=this.gdpr),Object.getOwnPropertyNames(this.params).length&&(e.params=this.params),Object.getOwnPropertyNames(this.sco).length&&(e.schain={ver:"1.0",complete:1,nodes:[{asi:this.sco.asi,sid:this.sco.sellerId,hp:1}]}),e}},{key:"load",value:function(){if(this.loadAmazonUam("apstag",this.browserWindow,this.browserWindow.document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),!this.browserWindow.apstag)return this.logger.error("[LOAD]: 0. UAM script loading failed.")}},{key:"init",value:function(e){this.browserWindow.apstag.init(this.getUamConfig()),this.logger.log("[LOAD]: 0. UAM script loaded"),this.logger.log("[TIME]: time in ms it took UAM script to load",new Date-e)}},{key:"makeBids",value:function(e,t){var i=this;this.browserWindow.apstag.fetchBids({slots:e},function(e){i.browserWindow.googletag.cmd.push(function(){i.browserWindow.apstag.setDisplayBids(),t(e)})})}}]),t}(),f=function(){function t(e){r(this,t),this.browserWindow=e.browserWindow,this.versionLoader=e.versionLoader,this.logger=e.logger,this.versionNumber=1,this.version=null,this.gdprApplies=!1,this.ccpaApplies=!1,this.ccpaPrivacyString=null,this.stubFunctionsGenerator=e.stubFunctionsGenerator,this.scriptLoader=e.scriptLoader,this.consentUIPrompt=e.consentUIPrompt}return i(t,[{key:"init",value:function(){this.scriptLoader.load(),this.generateStubs(),this.loadVersion()}},{key:"generateStubs",value:function(){this.stubFunctionsGenerator.generate()}},{key:"loadVersion",value:function(){this.checkForVersion1(),this.checkForVersion2()}},{key:"versionHandler",value:function(e){var t=this,i=e.found,e=e.versionNumber;null===this.version&&(i?this.setVersion(e):setTimeout(function(){t.loadVersion()},500))}},{key:"checkForVersion1",value:function(){var i=this;this.browserWindow.__cmp("ping",null,function(e,t){i.versionHandler({found:t,versionNumber:1})})}},{key:"checkForVersion2",value:function(){var t=this;this.browserWindow.__tcfapi("ping",null,function(e){t.versionHandler({found:e.cmpLoaded,versionNumber:2})})}},{key:"setVersion",value:function(e){this.versionNumber=e,this.version=this.versionLoader.getVersion(e)}},{key:"checkForCCPA",value:function(e){this.version.checkForCCPA(e)}},{key:"cmpLoaded",value:function(e){if(this.logger.log("[CMP]: Check if loaded"),null===this.version)return e(!1);this.version.cmpLoaded(e)}},{key:"getConsentData",value:function(e){this.version.getConsentData(e)}},{key:"setGDPR",value:function(e){this.gdprApplies=e}},{key:"setCCPA",value:function(e){this.ccpaApplies=e}},{key:"setPrivacyString",value:function(e){this.ccpaPrivacyString=e}},{key:"setGDPRConsentPrompt",value:function(){this.version.setGDPRConsentPrompt()}},{key:"setCCPAConsentPrompt",value:function(){this.version.setCCPAConsentPrompt()}},{key:"setNonPrivacyRegionsPrompt",value:function(){this.consentUIPrompt.setup("You are outside the CCPA jurisdiction.")}}]),t}(),m=function(){function n(e,t,i){r(this,n),this.browserWindow=e,this.domSelector=t||"div[data-fuse-privacy-tool]",this.elementId=i||"fuse-privacy-tool"}return i(n,[{key:"setup",value:function(e,t){var i,n=this.browserWindow.document.querySelector(this.domSelector);n&&(t?((i=document.createElement("a")).href="javascript:void(0)",i.id=this.elementId,i.innerHTML=e,i.addEventListener("click",t),n.appendChild(i)):n.textContent=e)}}]),n}(),y=function(){function t(e){r(this,t),this.logger=e.logger,this.targetAdSlotNodeIdPrefix=e.targetAdSlotNodeIdPrefix,this.packageVersion=e.packageVersion,this.browserWindow=e.browserWindow,this.adSlotRegistry=e.adSlotRegistry,this.isInDebugMode=e.isInDebugMode,this.isDomObserverMode=e.isDomObserverMode}return i(t,[{key:"getActiveModules",value:function(){return["no-module"]}}]),t}(),h=function(){function t(e){r(this,t),this.slots={},this.logger=e.logger,this.getMatchedFuseSlot=e.getMatchedFuseSlot,this.destroySlotsFunc=e.destroySlotsFunc}return i(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");e=e.toLowerCase();Array.isArray(this.slots[e])||(this.slots[e]=[]),this.slots[e].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t;e&&"string"==typeof e&&(t=e.toLowerCase(),(e=this.getMatchedFuseSlot(t))&&(e.targeting={}),e=this.slots[t],Array.isArray(e)&&(this.destroySlotsFunc(e),this.slots[t]=[]))}},{key:"purgeByCode",value:function(e,t){var i,n;e&&"string"==typeof e&&((n=(i=this.getSlots(e)||[]).find(function(e){return e.getSlotElementId()===t}))?(this.destroySlotsFunc([n]),n=e.toLowerCase(),this.slots[n]=i.filter(function(e){return e.getSlotElementId()!==t})):this.logger.warn("no slot found for key: ".concat(e," code: ").concat(t)))}},{key:"getSlotsLength",value:function(){return Object.keys(this.slots).length}},{key:"getSlots",value:function(e){if(e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()]))return this.slots[e.toLowerCase()]}},{key:"setSlotTargetingById",value:function(t,i,n){var e,r=this;t&&"string"==typeof t&&((e=this.getMatchedFuseSlot(t))&&(e.targeting||(e.targeting={}),e.targeting[i]=n),(e=r.slots[t.toLowerCase()])&&Array.isArray(e)&&e.length&&e.forEach(function(e){try{e.setTargeting(i,n)}catch(e){r.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}}))}}]),t}(),x=function(){function t(e){r(this,t),this.fuseDob=e.fuseDob,this.slotProblems=[]}return i(t,[{key:"getSlotProblems",value:function(){return this.slotProblems}},{key:"addSlotProblem",value:function(e){1e3<=this.slotProblems.length&&(this.slotProblems=this.slotProblems.slice(100)),this.slotProblems.push(a(a({},e),{},{time:Date.now()-this.fuseDob}))}}]),t}(),S=function(){function t(e){r(this,t),this.browserWindow=e.browserWindow}return i(t,[{key:"load",value:function(){var e=new XMLHttpRequest,t=this.browserWindow.document.location.hostname,i=this.browserWindow.document.createElement("script"),n=this.browserWindow.document.getElementsByTagName("script")[0],r=this.browserWindow.document.getElementsByTagName("head")[0]||this.browserWindow.document.documentElement,o="https://quantcast.mgr.consensu.org".concat("/choice/","PRrmquD1Ggcb1","/",t,"/choice.js");e.onreadystatechange=function(){var e;4===this.readyState&&(i.async=!0,i.type="text/javascript",200===this.status?i.src=o:(e="https://quantcast.mgr.consensu.org".concat("/choice.js"),i.src=e,o=e),n&&n.parentNode?n.parentNode.insertBefore(i,n):(console.debug("First script element not fully initialised, falling back to head-based insertion"),r.insertBefore(i,r.firstChild)))},e.open("GET",o,!0),e.send()}}]),t}(),v=function(){function t(e){r(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow}return i(t,[{key:"generate",value:function(){this.createStubFunctionV1(),this.createStubFunctionV2()}},{key:"createStubFunctionV1",value:function(){var t;void 0===this.browserWindow.__cmp?(this.logger.debug("[CMP] Version 1 stub not found - generating"),t=this.browserWindow,this.browserWindow.__cmp=function(){var e=arguments;"object"!==o(t.__cmp.a)&&setTimeout(function(){t.__cmp.apply(t.__cmp,e)},400)}):this.logger.debug("[CMP] Found existing version 1 stub")}},{key:"createStubFunctionV2",value:function(){function e(){for(var e,r="__tcfapiLocator",i=[],o=a.browserWindow,t=function e(){var t,i=o.document,n=!!o.frames[r];return n?a.logger.debug("[CMP] Found existing version 2 stub"):(a.logger.debug("[CMP] Version 2 stub not found - generating"),i.body?((t=i.createElement("iframe")).style.cssText="display:none",t.name=r,i.body.appendChild(t)):setTimeout(e,5)),!n};o;){try{if(o.frames[r]){e=o;break}}catch(e){"{}"!==JSON.stringify(e)&&a.logger.error("[CONSENT]:",JSON.stringify(e))}if(o===a.browserWindow.top)break;o=o.parent}e||(a.logger.log(" !cmpFrame "),t(),o.__tcfapi=function(){var e,t=arguments;if(!t.length)return i;"setGdprApplies"===t[0]?3<t.length&&2===t[2]&&"boolean"==typeof t[3]&&(e=t[3],"function"==typeof t[2]&&t[2]("set",!0)):"ping"===t[0]?"function"==typeof t[2]&&t[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):i.push(t)},o.addEventListener("message",function(i){var n="string"==typeof i.data,e={};try{e=n?JSON.parse(i.data):i.data}catch(e){"{}"!==JSON.stringify(e)&&a.logger.error("[CONSENT]:",JSON.stringify(e))}var r=e.__tcfapiCall;r&&a.browserWindow.__tcfapi(r.command,r.version,function(e,t){t={__tcfapiReturn:{returnValue:e,success:t,callId:r.callId}};n&&(t=JSON.stringify(t)),i.source.postMessage(t,"*")},r.parameter)},!1))}var a=this;"undefined"!=typeof module?module.exports=e:e()}}]),t}(),A=function(){function n(e){r(this,n),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt,this.uspTries=0,this.uspTriesLimit=3,this.createUspStub()}return i(n,[{key:"checkForCCPA",value:function(i){var n=this;this.browserWindow.__uspapi("uspPing",1,function(e,t){t&&e.mode.includes("USP")&&e.jurisdiction.includes(e.location.toUpperCase())?(n.logger.log("[CONSENT]: CCPA Region"),n.browserWindow.__uspapi("setUspDftData",1,function(e,t){n.logger.log("[CONSENT]: Setting up data for USP API",JSON.stringify(e),t),n.browserWindow.__uspapi("getUSPData",1,function(e,t){return t?void i({applies:!0,privacyString:e.uspString}):(n.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),i({applies:!0,privacyString:"1---"}))})})):i({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__tcfapi("displayConsentUi",2,function(){return e.logger.log("[CONSENT]: GDPR Consent UI displayed")})})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__uspapi("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var i=!1;setTimeout(function(){if(!i)return t(!1)},1e3),this.browserWindow.__tcfapi("ping",2,function(e){return i=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(i){this.browserWindow.__tcfapi("getTCData",2,function(e,t){return t&&e?e.gdprApplies?n.CONSENT_RECEIVED_STATES.includes(e.eventStatus.toLowerCase())?i({consentReceived:!0,personalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],googlePersonalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],gdprApplies:e.gdprApplies}):i({consentReceived:!1,gdprApplies:e.gdprApplies}):i({consentReceived:!0,gdprApplies:!1}):i({consentReceived:!1})})}},{key:"createUspStub",value:function(){function t(){var e=arguments;o(r.__uspapi)!==t?setTimeout(function(){void 0!==r.__uspapi&&r.__uspapi.apply(r.__uspapi,e)},400):(n.warn("[CONSENT] USP is still in stub mode. Calling to ".concat(e[0]," API will be unsuccessful")),"function"==typeof e[2]&&e[2](void 0,!1))}var e,i=this,n=this.logger,r=this.browserWindow;void 0===r.__uspapi&&(r.__uspapi=t,e=setInterval(function(){i.uspTries++,r.__uspapi===t&&i.uspTries<i.uspTriesLimit?n.warn("USP is not accessible"):clearInterval(e)},300))}}]),n}();A.CONSENT_RECEIVED_STATES=["useractioncomplete","tcloaded"];var z=function(){function t(e){r(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt}return i(t,[{key:"checkForCCPA",value:function(i){var n=this;this.browserWindow.__cmp("uspPing",null,function(e,t){t&&e&&e.location&&"ca"===e.location.toLowerCase()?(n.logger.log("[CONSENT]: CCPA Region"),n.browserWindow.__cmp("getUSPData",1,function(e,t){return t?void i({applies:!0,privacyString:e.uspString}):(n.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),i({applies:!0,privacyString:"1---"}))})):i({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__cmp("displayConsentUi")})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__cmp("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var i=!1;setTimeout(function(){if(!i)return t(!1)},1e3),this.browserWindow.__cmp("ping",2,function(e){return i=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(i){var n=this;this.browserWindow.__cmp("getVendorConsents",null,function(t,e){e&&t?n.browserWindow.__cmp("getGooglePersonalization",function(e){i({consentReceived:!0,personalisedAdsConsent:t.purposeConsents&&t.purposeConsents[2]&&t.purposeConsents[3],googlePersonalisedAdsConsent:e&&e.googlePersonalizationData&&1===e.googlePersonalizationData.consentValue,gdprApplies:t.gdprApplies})}):i({consentReceived:!1,gdprApplies:t&&t.gdprApplies})})}}]),t}(),_=function(){function t(e){r(this,t),this.options=e}return i(t,[{key:"getVersion",value:function(e){var t;switch(e){case 1:t=new z(this.options);break;case 2:t=new A(this.options);break;default:t=new z(this.options)}return t}}]),t}(),I=t,w={gpt:{name:"Google Publisher Tag",url:"//securepubads.g.doubleclick.net/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:I.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"},confiant:{name:"Confiant",url:"//confiant-integrations.global.ssl.fastly.net/ZVeqITFg3t0RVj7Gh41kEbdx9DA/gpt_and_prebid/",file:"config.js"},blockthrough:{name:"Blockthrough",url:"//publift-com.videoplayerhub.com/",file:"galleryplayer.js"}},P=function(){return I.fuse_settings.publication_metadata.publication_id},k=["debug","info","warn","error","off"],E=function(){function t(e){r(this,t),this.console=e.console,this.logName=e.logName,this.fuseDob=e.fuseDob,this.logLevel=e.logLevel||"off",this.logs=[]}return i(t,[{key:"setFuseDob",value:function(e){this.fuseDob=e}},{key:"getTimestamp",value:function(){return this.fuseDob?" [".concat(Date.now()-this.fuseDob,"]"):""}},{key:"callLogMethod",value:function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i[0]="[".concat(this.logName,"]-").concat(i[0]).concat(this.getTimestamp()),"warn"!==e&&"error"!==e||(1e3<=this.logs.length&&(this.logs=[]),this.logs.push({level:e,params:i})),"error"!==e&&k.indexOf(e)<k.indexOf(this.logLevel)||this.console[e].apply(null,i)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.callLogMethod("error",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.callLogMethod("warn",t)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.callLogMethod("info",t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.callLogMethod("info",t)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.callLogMethod("debug",t)}},{key:"setLogLevel",value:function(e){this.logLevel=e}},{key:"getLogLevel",value:function(){return this.logLevel}},{key:"getLogs",value:function(){return this.logs}}]),t}(),C="2.16.3",D="2",L=new(function(){function e(){r(this,e);try{this.location=this.getBrowserWindowObject().top.location}catch(e){this.location=this.getBrowserWindowObject().location}}return i(e,[{key:"getWindowLocation",value:function(){return this.location}},{key:"getPackageVersion",value:function(){return C}},{key:"getPackageMajorVersion",value:function(){return D}},{key:"getEnvironmentType",value:function(){return"undefined"!=typeof module&&module.exports?"node":"browser"}},{key:"isNodeEnvironment",value:function(){return"node"===this.getEnvironmentType()}},{key:"getBrowserWindowObject",value:function(){return window}},{key:"getPrebidGlobal",value:function(){return this.getBrowserWindowObject().fusePbjs||(this.getBrowserWindowObject().fusePbjs={que:[]}),this.getBrowserWindowObject().fusePbjs}},{key:"getQueryParam",value:function(t){return l(this.getWindowLocation().search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}},{key:"isInDebugMode",value:function(){return this.isNodeEnvironment()||"true"===this.getQueryParam("fuse_debug")[1]}},{key:"isDomObserverMode",value:function(){if(this.getQueryParam("fuse_dom")[1])return"true"===this.getQueryParam("fuse_dom")[1]}},{key:"getUnitsAttributesFromParams",value:function(e){var n=new RegExp("^fuse_(\\d+)_".concat(e,"(\\.\\w+|)$"),"i"),e=this.getWindowLocation().search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return n.test(e[0])}),r=[];return e.forEach(function(e){var t=e[0].match(n),i="true"===e[1]||"false"!==e[1]&&e[1],e=t[1];void 0===r[e]&&(r[e]={}),t[2]&&(t=t[2].substring(1),r[e][t]=-1!==t.search(new RegExp("color","i"))?"#"+i:i)}),r}},{key:"getFooterStickiesFromParams",value:function(){return this.getUnitsAttributesFromParams("footersticky")}},{key:"getInterscrollersFromParams",value:function(){return this.getUnitsAttributesFromParams("interscrollers")}},{key:"getLogLevel",value:function(){if(this.isInDebugMode())return"debug";if(this.getQueryParam("fuse_log_level")&&this.getQueryParam("fuse_log_level")[1]){var e=this.getQueryParam("fuse_log_level")[1];return-1!==k.indexOf(e)?e:"off"}return"off"}},{key:"getMainLogPrefix",value:function(){return"FUSE"}},{key:"getAdSlotQuerySelectorElement",value:function(){return"div"}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return"fuse-slot-"}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return"fuse-slot"}},{key:"getLogger",value:function(e){return this.logger?!this.logger.fuseDob&&e&&this.logger.setFuseDob(e):this.logger=new E({console:this.getBrowserWindowObject().console,logName:this.getMainLogPrefix(),fuseDob:e,logLevel:this.getLogLevel()}),this.logger}}]),e}()),T=L.getBrowserWindowObject(),e=L.getWindowLocation(),O=function(t){return l(e.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]},j=function(e,t){var i;e.hasOwnProperty("url")&&((i=T.document.createElement("script")).async=!0,i.type="text/javascript","function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src="https:".concat(e.url).concat(e.file),(e=T.document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,e))},N=function(t,i,n){function r(){var e=Date.now()-d;e<i&&0<=e?o=setTimeout(r,i-e):(o=null,n||(l=t.apply(s,a),o||(s=a=null)))}var o,a,s,d,l;return function(){s=this,a=arguments,d=Date.now();var e=n&&!o;return o=o||setTimeout(r,i),e&&(l=t.apply(s,a),s=a=null),l}},B=L.getLogger(),F=L.getBrowserWindowObject(),W=function(e){F.addEventListener("resize",N(e||function(){B.log("resized",F.innerWidth,F.innerHeight)},500))},M=function(e){var i,n=I.fuse_breakpoints,r=e||F.innerWidth;return Object.keys(n).forEach(function(e){var t=n[e];t<r&&(!i||r<i)&&(i={size:t,name:e})}),i},R={watchForBreakpoints:function(t){var i=F.innerWidth,n=M(i).size;W(function(){i=F.innerWidth;var e=M(i).size;return e!==n?(n=e,B.log("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",i,e),t(!0)):t(!1)})},setResizeListener:W,getCurrentBreakpoint:M};function G(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function U(e){return G('\n<div class="publift-widget-container closed" style="display: '.concat("0px"===e?"none":"block",'">\n  <div class="publift-widget-background">\n  </div>\n  <div class="publift-widget-button">\n    <div></div>\n    <div></div>\n  </div>\n  <div class="publift-widget">\n  </div>\n</div>\n'))}function V(e,t,i){e.querySelector(".publift-widget").appendChild(t),e.querySelector(".publift-widget-button").addEventListener("click",function(){e.classList.contains("closed")?e.classList.remove("closed"):e.classList.add("closed")});t=document.querySelector("body");t.insertAdjacentElement("beforeend",i),t.insertAdjacentElement("beforeend",e),window.requestAnimationFrame(function(){e.classList.remove("closed")})}var q={bgColor:"#EFEFEF",bgOpacity:.7,allowClose:!1,buttonColor:"#313131",barColor:"#EFEFEF",borderWidth:"0px",zIndex:2147483647},H={bgColor:"#EFEFEF",allowClose:!1,buttonColor:"#313131",barColor:"#FFFFFF",borderWidth:"5px",zIndex:2147483647},Z=function(e,t){t=a(a({},q),t||{});V(U(t.height),e,G('\n<style id="publift-widget-styles">\n.publift-widget-container {\n  z-index: '.concat(t.zIndex,";\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: ").concat(t.height,";\n  transition: height .3s linear;\n}\n\n.publift-widget-button {\n  width: 40px;\n  border-radius: 2px 2px 0px 0px;\n  margin-left: 2px;\n  height: 20px;\n  background-color: ").concat(t.barColor,";\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  display: ").concat(t.allowClose?"flex":"none",";\n}\n\n.publift-widget-button :first-child, .publift-widget-button :last-child  {\n  background-color: ").concat(t.buttonColor,";\n  width: 13px;\n  height: 3px;\n  border-radius:2px;\n  transition: transform .2s;\n}\n\n.publift-widget-button :first-child {\n  transform: rotate(30deg) translateX(2px);\n}\n.publift-widget-button :last-child {\n  transform: rotate(-30deg) translateX(-2px);\n}\n\n.publift-widget {\n  width:100%;\n  height: ").concat(t.height,";\n  display: flex;\n  justify-content: center;\n  border-top: ").concat(t.borderWidth," solid ").concat(t.barColor,";\n}\n\n.publift-widget-background {\n  position: absolute;\n  width:100%;\n  height: ").concat(t.height,";\n  background-color: ").concat(t.bgColor,";\n  opacity: ").concat(t.bgOpacity,";\n  bottom:0px;\n  z-index: -1;\n}\n\n.publift-widget-container.closed {\n  min-height: 0px;\n  height:0px !important;\n}\n.publift-widget-container.closed .publift-widget-background {\n  display: none;\n}\n\n</style>\n")))},Q=function(e,t){t=a(a({},H),t||{});V(U(t.height),e,G('\n<style id="publift-widget-styles">\n.publift-widget-container {\n  z-index: '.concat(t.zIndex,";\n  position: fixed;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  transition: transform .3s linear, height .3s linear;\n  background-color: ").concat(t.barColor,";\n}\n.publift-widget-button {\n  width: 40px;\n  border-radius: 2px 2px 0px 0px;\n  margin-left: 2px;\n  height: 20px;\n  background-color: ").concat(t.barColor,";\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: -20px;\n  display: ").concat(t.allowClose?"flex":"none",";\n}\n\n.publift-widget-button :first-child, .publift-widget-button :last-child  {\n  background-color: ").concat(t.buttonColor,";\n  width: 13px;\n  height: 3px;\n  border-radius:2px;\n  transition: transform .2s;\n}\n\n.publift-widget-button :first-child {\n  transform: rotate(30deg) translateX(2px);\n}\n.publift-widget-button :last-child {\n  transform: rotate(-30deg) translateX(-2px);\n}\n\n.publift-widget {\n  display: flex;\n  justify-content: center;\n  border: ").concat(t.borderWidth," solid ").concat(t.barColor,";\n}\n\n.publift-widget-container.closed {\n  transform: translateY(120%) TranslateX(-50%);\n}\n</style>\n")))},K=function(e,t){return a(a({},(t=t||{}).compact?H:q),{},{compact:!1},t)},J=function(e,t){var i=R.getCurrentBreakpoint().name,e=e.sizeMapping,i=e[i]?e[i].map(function(e){return e[1]}):[];return i.length?"".concat(Math.max.apply(Math,c(i))+Number(t.borderWidth.substring(0,t.borderWidth.length-2))*(t.compact?2:1),"px"):"0px"};function Y(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}var X,ee=function(e){return a({selector:".adBreak",showBanner:!1,height:"100vh",zIndex:1e7,top:"auto"},e||{})},te=function(e){var t=R.getCurrentBreakpoint().name,e=e.sizeMapping,t=e[t]?e[t].map(function(e){return e[1]}):[];return t.length?"".concat(Math.max.apply(Math,c(t)),"px"):"0px"},ie=function(){function t(e){r(this,t),this.logger=e.logger,this.footerStickiesParams=e.footerStickiesParams||[],this.interscrollersParams=e.interscrollersParams||[]}return i(t,[{key:"stickySlots",value:function(){var t=this;return this.accountSettings.fuse_slots.filter(function(e){return e.attributes&&(e.attributes.sticky||t.footerStickiesParams[e.id])})}},{key:"renderStickySlots",value:function(){var e,t=this.stickySlots();this.logger.info("[WIDGETS] Render Stickies: ".concat(t.length)),t.length&&(e=t[0],1<t.length&&this.logger.warn("[WIDGETS] Render ONLY first sticky cause of widget limitations: ".concat(e.id)),this.renderSticky(e))}},{key:"renderInterscrollerSlots",value:function(){var e,t=this.scrollSlots();this.logger.info("[WIDGETS] Render Interscrollers: ".concat(t.length)),t.length&&(e=t[0],1<t.length&&this.logger.warn("[WIDGETS] Render ONLY first Interscroller cause of widget limitations: ".concat(e.id)),this.renderInterscroller(e))}},{key:"renderSticky",value:function(e){!function(e,t,i){e=G(e),t=K(i,t);t.height=J(i,t),(t.compact?Q:Z)(e,t)}('<div data-fuse="'.concat(e.id,'"></div>'),a(a({},e.stickyAttributes),this.footerStickiesParams[e.id]),e)}},{key:"renderInterscroller",value:function(e){var t,i,n,r;t='<div data-fuse="'.concat(e.id,'"></div>'),i=a(a({},e.interscrollerAttributes),this.interscrollersParams[e.id]),n=e,r=this.logger,e=ee(i),i=te(n),n=Y('\n    <div class="publift-scroll-unit-root">\n      '.concat(e.showBanner?'<div class="publift-scroll-container-message banner_top">Advertisement</div>':"",'\n      <div class="publift-scroll-container">\n        <div class="publift-scroll-clip">\n          <div class="publift-scroll-widget">').concat(t,"</div>\n        </div>\n      </div>\n    </div>\n  ")),t=Y('\n  <style id="publift-scroll-styles">\n  .publift-scroll-container {\n    width: 100vw;\n    min-height: '.concat(e.height,";\n\n    z-index: ").concat(e.zIndex,";\n    position: relative;\n  }\n\n  .publift-scroll-container-message {\n    background-color: black;\n    color: white;\n    padding: .5em;\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  .publift-scroll-clip {\n    position: absolute;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    clip-path: inset(0px);\n    clip: rect(0px, auto, auto, 0px);\n    min-height: ").concat(e.height,"\n  }\n\n  .publift-scroll-widget {\n    position: fixed;\n    top: ").concat(e.top,";\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    bottom: 0px;\n    transform: translateZ(0px);\n  }\n  .publift-scroll-unit-root {\n    display: ").concat("0px"===i?"none":"block",";\n  }\n\n  </style>\n  ")),(i=document.querySelector("body"))&&(i.insertAdjacentElement("beforeend",t),(t=document.querySelector(e.selector))?(t.appendChild(n),n.style.marginLeft="-".concat(n.getBoundingClientRect().x,"px")):r.warn("[WIDGETS] Interscroller insertionPoint with selector not found: ".concat(e.selector)))}},{key:"scrollSlots",value:function(){var t=this;return this.accountSettings.fuse_slots.filter(function(e){return e.attributes&&(e.attributes.interscroller||t.interscrollersParams[e.id])})}},{key:"render",value:function(e){if(e)this.accountSettings=e;else if(!e&&!this.isInited)return void this.logger.err("[WIDGETS] no accountSettings was provided");this.renderStickySlots(),this.renderInterscrollerSlots()}},{key:"cleanup",value:function(){document.querySelector("#publift-widget-styles")&&document.querySelector("#publift-widget-styles").remove(),document.querySelector(".publift-widget-container")&&document.querySelector(".publift-widget-container").remove(),document.querySelector("#publift-scroll-styles")&&document.querySelector("#publift-scroll-styles").remove(),document.querySelector(".publift-scroll-unit-root")&&document.querySelector(".publift-scroll-unit-root").remove()}},{key:"onBreakpointChange",value:function(){var e=this.stickySlots(),t=this.scrollSlots();this.logger.info("[WIDGETS] onBreakpointChange Stickies: ".concat(e.length," Scrolls: ").concat(t.length));var i,n,r=e[0];e.length&&(1<e.length&&this.logger.warn("[WIDGETS] onBreakpointChange ONLY first sticky cause of widget limitations: ".concat(r.id)),i=a(a({},(o=r).stickyAttributes),this.footerStickiesParams[r.id]),n=K(o,i),e=document.querySelector(".publift-widget-container"),r=document.querySelector(".publift-widget-background"),(i=document.querySelector(".publift-widget"))&&document.querySelector(".publift-widget").children[0]&&(o=J(o,n),e.style.height=o,e.style.display="0px"===o?"none":"block",n.compact||(r.style.height=o),i.style.height=o));var o=t[0];t.length&&(1<t.length&&this.logger.warn("[WIDGETS] onBreakpointChange ONLY first scrolls cause of widget limitations: ".concat(o.id)),o=te(t=o),(t=document.querySelector(".publift-scroll-unit-root"))&&(t.style.display="0px"===o?"none":"block"))}}]),t}(),ne=function(e,t,i,n,r){var o=e.top,a=e.bottom,s=e.left,d=e.right,l=e.width,e=e.height*r,r=l*r;return 0<=o+e+n&&0<=s+r&&a-e-n<=i&&d-r<=t},re=L.getAdSlotQuerySelectorElement(),oe=L.getTargetAdSlotNodeMainClassName(),ae=L.getBrowserWindowObject(),se=JSON.parse(JSON.stringify(I.fuse_slots)),de=function(){return ae.performance.timing.navigationStart},le=L.getLogger(de()),ce=function(){return se},ue=function(e){return!0===e?0:e},pe=function(e,t){t=t.name;return e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(t)&&!1!==e.customLazy[t]?e.customLazy[t]:e.attributes.lazy},be=function(e,t,i){if(!e)return!1;var n=e.getBoundingClientRect(),r=ae.document.hidden,o=ae.innerWidth||ae.document.documentElement.clientWidth,e=ae.innerHeight||ae.document.documentElement.clientHeight,t=t?t/100:1,i=ue(i),t=ne(n,o,e,i,t);return!r&&t},ge=function(e){if(!e)return le.error("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1},fe=function(t){if(!t)return le.error("missing parameter fuseSlotID");if("string"!=typeof t)return le.error("fuseSlotId should be of type string");var i=RegExp("".concat(t.toLowerCase(),"$"));return l(se.filter(function(e){return e.id===t||i.test(e.slot.toLowerCase())}),1)[0]||!1},me=function(e){return e.filter(function(e){return!ye(e)})},ye=function(e){return Array.isArray(e)?"fluid"===e[0]:"fluid"===e},he={buildFuseSlot:function(e,t){var i;return le.log("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-de()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),ae.document.getElementById(e.code)||((i=ae.document.createElement("div")).setAttribute("id","".concat(e.code)),i.className=oe,t.appendChild(i)),t},checkInView:be,checkLazyFalsy:function(e,t,i){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!be(e,50,pe(t,i)))},clearFuseSkins:function(){for(var e=ae.document.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},filterFluidSizes:me,isFluid:ye,formatSizes:function(e){return e.map(function(e){return ye(e)&&Array.isArray(e)?e[0]:e})},getCurrentSizeMapSizes:function(t){var e=R.getCurrentBreakpoint().name,i=l(ce().filter(function(e){return e.id===t})||[],1)[0];if(!i)return le.warn("[SLOTS]: getCurrentSizeMapSizes(): Could not find fuseSlot with id ".concat(t)),[];if(i.sizeMapping&&i.sizeMapping[e]){var n=me(i.sizeMapping[e]);return 0===n.length&&le.debug("[SLOTS]: No non-fluid sizes available for ".concat(t," at current breakpoint: '").concat(e,"'")),n}return le.warn('[SLOTS]: Fuse slot "'.concat(t,'" has no sizemap, sizeless prebid units may act strangely.')),me(i.sizes||[])},getFuseDob:de,getElapsedTime:function(){return new Date-de()},getFuseQueue:function(){return ae.fusetag.que||[]},getFuseUnitByCode:function(e){var t=ae.document.querySelectorAll("".concat(re,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&le.warn("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},getFuseUnitById:function(e){e=ae.document.querySelectorAll("".concat(re,'[data-fuse="').concat(e,'"]'));return e[e.length-1]},getHeaderBiddingOptions:function(e){if(e.prebid&&e.prebid.enabled&&e.prebid.breakpoint_options){var t=R.getCurrentBreakpoint().name,t=e.prebid.breakpoint_options[t];if(t)return t}return{enabled:0<e.headerbidding,sendAllBids:e&&e.prebid&&!0===e.prebid.sendAllBids,timeout:e.headerbidding}},getMatchedFuseSlot:fe,getSlots:ce,getTime:function(){return X},getUnits:function(){return Array.prototype.slice.call(ae.document.querySelectorAll("".concat(re,"[data-fuse]")))},incrementMatchedFuseSlot:ge,lazyAttribute:ue,lazyDeviceToggle:pe,matchNodeToFuseSlotObject:function(e){if(!e)return le.error("missing parameter fuseSlotNode");var t=e.getAttribute("data-fuse"),i=fe(t);return i||le.warn("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(t)),i&&(ge(i),t=e.getAttribute("data-targeting-key"),e=e.getAttribute("data-targeting-value"),t&&t.length&&e&&e.length&&(i.targeting||(i.targeting={}),i.targeting[t]=e)),i},resetSlots:function(){return se=JSON.parse(JSON.stringify(I.fuse_slots))},setNewTime:function(e){return X=e},isEdgeBrowser:function(){return/[E]dge/.test(ae.navigator.userAgent)}},xe=[],Se=[],ve=function(e){var t,i=Date.now();xe.push((d(t={},e,!0),d(t,"ts",i),d(t,"load_time_ms",i-he.getFuseDob()),t))};ve("init_start");var Ae,ze={setStateStatus:ve,addAdEvent:function(e,t){var i=Date.now();Se.push({adEvent:e,requestID:t,ts:i,event_time_ms:i-he.getFuseDob()})},states:xe,events:Se},_e=w.gpt,Ie=L.getLogger(he.getFuseDob()),we=L.getBrowserWindowObject(),Pe=L.getWindowLocation(),ke=function(){var e=Pe.host;return e.substring(e.length-40,e.length)},Ee=function(){var e=Pe.pathname;return e.substring(e.length-40,e.length)},Ce=function(){var e=Pe.search;return e.substring(e.length-40,e.length)},De=function(){for(var e=[],t=Pe.pathname.split("/"),i=0;i<t.length;i+=1)t[i].length&&-1===t[i].indexOf(".")&&e.push(t[i]);return e},Le=function(){var t=Pe.host,i=Pe.pathname,n="false";return I.fuse_blocked_url&&I.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+i)&&(n="true")}),n},Te=function(e){if(Ae&&Ae.cmd)return Ae.cmd.push(e);Ie.error("googletag or googletag.cmd not exists")},Oe=function(t){if(Ae){if(t){var e=Ae.pubads().getSlots();if(Array.isArray(t)){var i,n,r=e.filter(function(e){return 0<=t.indexOf(e.getSlotElementId())});return r.length!==t.length&&(i=e.map(function(e){return e.getSlotElementId()}),n=t.filter(function(e){return-1===i.indexOf(e)}),Ie.warn("Could not find a GPT slot for all fuse slots.\n        Missing Slots=".concat(JSON.stringify(n),",\n        All GPT Slots: ").concat(JSON.stringify(i)))),r}r=e.filter(function(e){return e.getSlotElementId()===t});return r||(e=e.map(function(e){return e.getSlotElementId()}),Ie.warn("Could not find a GPT slot for ".concat(t,". GPT Slots=").concat(JSON.stringify(e),")"))),r}Ie.error("Called getGPTSlot() without a fuseSlotCode")}else Ie.error("Called getGPTSlot(".concat(t,") but googletag not defined"))};var je=function(e,n){var r;return n.sizeMapping&&0!==Object.keys(n.sizeMapping).length&&(r=Ae.sizeMapping(),Object.keys(n.sizeMapping).forEach(function(e){var t=I.fuse_breakpoints[e],i=n.sizeMapping[e];void 0!==t&&(Ie.log("[EVENT] Setting breakpoint for slot ".concat(n.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(i)),r.addSize([t,0],he.formatSizes(i)))}),e.defineSizeMapping(r.build())),e},Ne=function(t,i){return i.targeting&&Object.keys(i.targeting).length&&Object.keys(i.targeting).forEach(function(e){t.setTargeting(e,i.targeting[e])}),t},Be=function(e,t){Te(function(){Ie.log("[GPT]: Setting targeting for [key: ".concat(e,", value: ").concat(t,"]")),Ae.pubads().setTargeting(e,t)})},Fe=function(){Be("fuse_profanity",Le()),Be("fuse_site",ke()),Be("fuse_path",Ee()),Be("fuse_query",Ce()),Be("fuse_category",De()),Be("fuse_industry",I.fuse_industry);var e="false";we.screen.width>=I.fuse_settings.inskinWidth&&(e="true"),Be("inskin_yes",e),Be("fuse_uuid",I.fuse_uuid),Be("fuse_publication_id",P().toString())},We={setDefaultTargetingAsync:Fe,loadGPTLibrary:function(e){we.googletag&&we.googletag._loadStarted_?Ie.log("[LOAD]: 3. GPT v".concat(Ae.getVersion()," is already on the page, skip loading another copy")):j(_e,function(){Ie.log("[INIT]: GPT ".concat(we.googletag&&we.googletag._loadStarted_?"v".concat(Ae.getVersion()," is loaded"):"not loaded")),e()})},createGPTCall:function(e){var t=Ae.defineSlot(e.slot,e.sizes,e.code),i=Math.ceil(100*Math.random());return t?(t=je(t,e),t=Ne(t,e),i=10<i?"optimized":i%10==0?"benchmark":"exploration".concat(i%10),!1!==I.fuse_settings.adomik&&t.setTargeting("publift_mv_testing",i),t.addService(Ae.pubads())):Ie.warn("createGPTCall(): googletag.defineSlot() returned null"),t},createGPTObj:function(){return Ae=we.googletag||(we.googletag={cmd:[]})},setTargetingAsync:Be,pushToGPTQue:Te,makeGPTCall:function(e){var t;if(Ae)return!e&&0<Ae.pubads().getSlots().length?(t=Ae.pubads().getSlots()[Ae.pubads().getSlots().length-1].getSlotElementId(),Ie.error("[BIDS]: GPT called with no fuse slot")):e?t=e.code:(t=null,Ie.error("[BIDS]: GPT called with no fuse slot")),Ie.log("[BIDS]: Initialising DFP call at",new Date-(he.getTime()||he.getFuseDob())),Ae.display(t);Ie.warn("[BIDS]: GPT call skipped because googletag not defined")},refreshUnitsAsync:function(r,o){Te(function(){var e,t,i=r?Oe(r):null,n=r&&r.length?JSON.stringify(i.map(function(e){return e.getSlotElementId()})):"all units";!0===he.isEdgeBrowser()?(Ie.debug("[GC] will trigger GC for iFrames in Edge browser"),e=$("div[data-fuse] iframe"),t=$.Deferred(),e.one("load",function(){try{$(this.contentWindow).empty(),Ie.log("[GC]: cleaned iFrame contentWindow")}catch(e){Ie.error("[GC]: error in cleaning iFrame contentWindow => ".concat(e))}}),e.attr("src","about:blank"),setTimeout(t.resolve,5),t.promise().then(function(){try{CollectGarbage()}catch(e){Ie.error("[GC]: error in CollectGarbage => ".concat(e))}Ie.log("[GPT]: Refreshing ".concat(n)),ze.addAdEvent("gpt_pubads_refresh_".concat(n),o),Ae.pubads().refresh(i)})):(Ie.log("[GPT]: Refreshing ".concat(n)),ze.addAdEvent("gpt_pubads_refresh_".concat(n),o),Ae.pubads().refresh(i))})},getGPTSlot:Oe,setTagSettings:function(){Ae.pubads().disableInitialLoad(),Ae.pubads().collapseEmptyDivs(!0),Ae.pubads().setCentering(!0),Ae.pubads().enableSingleRequest(),Fe()},eventSlotRenderEnded:function(t){Ae.pubads().addEventListener("slotRenderEnded",function(e){t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},eventSlotImpressionViewable:function(){Ae.pubads().addEventListener("impressionViewable",function(e){Ie.log("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(he.getTime()||he.getFuseDob()))})},getFuseCategories:De,getFuseHost:ke,getFusePath:Ee,getFuseQuery:Ce,enableServices:function(){we.googletag.enableServices()},disablePersonalisedAds:function(){we.googletag.pubads().disableInitialLoad(),we.googletag.pubads().setRequestNonPersonalizedAds(1)},setInterstitialSlot:function(e){if(e){var t=(e.interstitialAttributes||{minPageViews:0}).minPageViews;if(t){var i=window.sessionStorage,n=Number(i.getItem("fuse-page-views")||0);if(n<t)return void i.setItem("fuse-page-views",n+1);i.setItem("fuse-page-views",0)}e=Ae.defineOutOfPageSlot(e.slot,Ae.enums.OutOfPageFormat.INTERSTITIAL);e?(e.addService(Ae.pubads()),Ae.pubads().disableInitialLoad(),Ae.enableServices(),Ae.display(e),Ae.pubads().refresh([e])):Ie.warn("setInterstitialSlot(): googletag.defineOutOfPageSlot returned undefined")}},destroySlots:function(e){Ae.destroySlots(e)}},Me=function(){function e(){r(this,e)}return i(e,[{key:"code",value:function(e){return"1---"}}]),e}(),Re=new(function(){function e(){r(this,e)}return i(e,[{key:"getCcpaPrivacyStringCoder",value:function(){return new Me}},{key:"getUamPubID",value:function(){return t.fuse_settings.amazonUam&&t.fuse_settings.amazonUam.enabled?t.fuse_settings.amazonUam.pubID:""}},{key:"getUamAdServer",value:function(){return"googletag"}},{key:"getSco",value:function(){return t.sco}}]),e}()),Ge=new(function(){function e(){r(this,e)}return i(e,[{key:"getPackageVersion",value:function(){return L.getPackageVersion()}},{key:"getPackageMajorVersion",value:function(){return L.getPackageMajorVersion()}},{key:"isInDebugMode",value:function(){return L.isInDebugMode()}},{key:"isDomObserverMode",value:function(){return L.isDomObserverMode()}},{key:"getAdSlotQuerySelectorElement",value:function(){return L.getAdSlotQuerySelectorElement()}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return L.getTargetAdSlotNodeIdPrefix()}},{key:"getBrowserWindowObject",value:function(){return L.getBrowserWindowObject()}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return L.getTargetAdSlotNodeMainClassName()}},{key:"getPrebidGlobal",value:function(){return L.getPrebidGlobal()}},{key:"getLogger",value:function(){return L.getLogger(he.getFuseDob())}},{key:"getGptSlotRegistry",value:function(){var t=this;return new h({logger:this.getLogger(),getMatchedFuseSlot:function(e){return he.getMatchedFuseSlot(e)},pushToGoogleTagQueueFunc:function(e){return e},destroySlotsFunc:function(e){return We.pushToGPTQue(function(){t.getBrowserWindowObject().googletag.destroySlots(e)})}})}},{key:"getFuseTag",value:function(){return new y({logger:this.getLogger(),targetAdSlotNodeIdPrefix:this.getTargetAdSlotNodeIdPrefix(),packageVersion:this.getPackageVersion(),browserWindow:this.getBrowserWindowObject(),adSlotRegistry:this.getGptSlotRegistry(),isInDebugMode:this.isInDebugMode(),isDomObserverMode:this.isDomObserverMode()})}},{key:"getUamPubID",value:function(){return Re.getUamPubID()}},{key:"getUamAdServer",value:function(){return Re.getUamAdServer()}},{key:"getSco",value:function(){return Re.getSco()}},{key:"getAmazonUam",value:function(){return new g({pubID:this.getUamPubID(),adServer:this.getUamAdServer(),logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),sco:this.getSco()})}},{key:"getCmpVersionLoader",value:function(){return new _({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),consentUIPrompt:new m(this.getBrowserWindowObject())})}},{key:"getStubFunctionsGenerator",value:function(){return new v({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpScriptLoader",value:function(){return new S({browserWindow:this.getBrowserWindowObject()})}},{key:"getConsentManger",value:function(){return new f({browserWindow:this.getBrowserWindowObject(),logger:this.getLogger(),versionLoader:this.getCmpVersionLoader(),stubFunctionsGenerator:this.getStubFunctionsGenerator(),scriptLoader:this.getCmpScriptLoader(),consentUIPrompt:new m(this.getBrowserWindowObject())})}},{key:"getProblemReporter",value:function(){return this.problemReporter||(this.problemReporter=new x({fuseDob:he.getFuseDob()}),this.problemReporter)}},{key:"getWidgetsRenderer",value:function(){return this.widgetsRenderer||(this.widgetsRenderer=new ie({logger:this.getLogger(),footerStickiesParams:L.getFooterStickiesFromParams(),interscrollersParams:L.getInterscrollersFromParams()}),this.widgetsRenderer)}}]),e}()),Ue=Ge.getLogger(),Ve=Ge.getBrowserWindowObject(),qe=w.adblock,He=function(e){var t;Ve.Criteo?(t=e,Ve.Criteo.events.push(function(){Ue.log("[SLOTS]: Adblock slots ".concat(t.containerid," set up")),Ve.Criteo.DisplayAcceptableAdIfAdblocked(t),Ve.document.getElementById(t.containerid).style.height=t.height,Ve.document.getElementById(t.containerid).style.display="none"})):Ue.warn("You need to declare the global Criteo Object first")},Ze={loadAdBlocklLibrary:function(e){return j(qe,function(){Ue.log("[LOAD]: 3. Adblock script loaded."),Ue.log("[TIME]: time in ms to load Adblock script",new Date-he.getFuseDob()),e&&e()})},createAdBlockObj:function(){return Ve.Criteo||(Ve.Criteo={events:[]})},buildAdBlockSlots:function(e,t){var i,n,r;0<t.querySelectorAll('[id^="crt"]').length||e.attributes&&e.attributes.adblock&&(i=Ve.document.createElement("DIV"),n=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",r={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:n,callbacksuccess:function(e){Ue.log("[SLOTS]: Adblock slots ".concat(r.containerid," loaded")),Ue.log("[TIME]: time in ms it took Adblock Slot ".concat(r.containerid," to load"),new Date-he.getFuseDob()),e.target.parentNode.style.display="block"}},i.id=r.containerid,i.className="fuse-adblock",t.appendChild(i),He(r))}},Qe=Ge.getLogger();var Ke={enable:function(e){j(w.blockthrough,function(){Qe.log("[LOAD]: 0. Blockthrough tag loaded"),Qe.log("[TIME]: time in ms it took Blockthrough tag to load",new Date-he.getFuseDob()),e&&e()})}},Je=Ge.getLogger(),Ye=Ge.getBrowserWindowObject();function Xe(e){var t=e/.835;return ut.log("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}var $e={enable:function(e){Ye.confiant=Ye.confiant||{},j(w.confiant,function(){Je.log("[LOAD]: 0. Confiant tag loaded"),Je.log("[TIME]: time in ms it took Confiant tag to load",new Date-he.getFuseDob()),e&&e()})}},et=Ge.getLogger(),tt={},it=0,nt=0,rt=function(e){tt[e]?(tt[e].disconnect(),delete tt[e],et.log("[DOM-OBSERVER] observer stopped for ".concat(e))):et.warn("[DOM-OBSERVER] observer not found for ".concat(e))},ot={addNodeDeletionObserver:function(i,n){var e,r=i.code;tt[r]?et.warn("[DOM-OBSERVER] node for ".concat(r," was already observed")):(et.log("[DOM-OBSERVER] new observer added ".concat(r)),(e=new MutationObserver(function(e){et.debug("[DOM-OBSERVER] Start for ".concat(r," Events:").concat(it," Time: ").concat(nt));var t=Date.now();it++,e.forEach(function(e){"childList"===e.type&&0<e.removedNodes.length&&e.removedNodes.forEach(function(e){(e.id===r||e.querySelector&&e.querySelector("#".concat(r)))&&(rt(r),et.log("[DOM-OBSERVER] found deleted node ".concat(r)),n(i))})});t=Date.now()-t;nt+=t,et.debug("[DOM-OBSERVER] End for ".concat(r," Took:").concat(t," Events:").concat(it," Time: ").concat(nt))})).observe(document,{attributes:!1,childList:!0,subtree:!0}),tt[r]=e),et.log("[DOM-OBSERVER] observer set to track deletion of ".concat(r))},stopObserver:rt,getObservers:function(){return tt}},at=function(){function n(e,t){var i=this;r(this,n),this.log=t,this.registry={},e.forEach(function(e){i.registry[e]=[]})}return i(n,[{key:"on",value:function(e,t){return!!this.registry[e]&&(this.registry[e].push(t),!0)}},{key:"off",value:function(e,i){return!!this.registry[e]&&(this.registry[e].forEach(function(e,t){e===i&&(n=t)}),!(!n&&0!==n)&&(this.registry[e].splice(n,1),!0));var n}},{key:"once",value:function(e,t){function i(){t.apply(null,Array.prototype.slice.call(arguments)),n.off(e,i)}var n=this;return n.on(e,i)}},{key:"emit",value:function(e){if(!this.registry[e])return!1;var t=Array.prototype.slice.call(arguments);t.shift(),this.log("[EVENT] ".concat(e," triggered with ").concat(this.registry[e].length," in the registry")),this.registry[e].forEach(function(e){e.apply(null,t)})}}]),n}(),st=Ge.getLogger(),dt=Ge.getBrowserWindowObject(),lt={capture:!0,passive:!0},ct={addLazyListener:function(i,n,r){dt.addEventListener("scroll",function e(){var t=R.getCurrentBreakpoint();he.checkInView(i,null,he.lazyDeviceToggle(n,t))&&(he.lazyDeviceToggle(n,t)||0===he.lazyDeviceToggle(n,t))&&(st.debug("[SLOT] Lazy listener callback triggered for ".concat(n.code)),r()||st.warn("[SLOT] Lazy listener failed to load ".concat(n.code,". It will not be re-attempted.")),dt.removeEventListener("scroll",e,lt),st.debug("[SLOT] Removed scroll listener for ".concat(n.code)))},lt)}},ut=Ge.getLogger(),pt=Ge.getPackageMajorVersion(),bt=Ge.getBrowserWindowObject(),gt=Ge.getPrebidGlobal(),ft=w.prebid,mt={setConsentManagement:function(e){"function"!=typeof bt.__tcfapi&&"function"!=typeof bt.__cmp&&!(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cmp||(e.consentManagement={gdpr:{cmpApi:"iab",timeout:1e4},usp:{cmpApi:"iab",timeout:100}},"function"==typeof bt.__tcfapi?e.consentManagement.gdpr.defaultGdprScope=!0:e.consentManagement.gdpr.allowAuctionWithoutConsent=!1,ut.log("[CONSENT]: prebid consent management module in place"))},setUserSync:function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},setPriceGranularity:function(e){e.priceGranularity={buckets:[{max:3,increment:.01,precision:2},{max:10,increment:.1,precision:2},{max:50,increment:1,precision:2},{max:100,increment:10,precision:2}]}},setSizeConfig:function(t,i){var n;i&&i.fuse_settings&&i.fuse_settings.responsive&&(n=null,t.sizeConfig=[],Object.keys(i.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(i.fuse_breakpoints[e],"px)").concat(n?" and (max-width: ".concat(n-1,"px)"):""),sizesSupported:i.supported_sizes[e],labels:[e]}),n=i.fuse_breakpoints[e]}))},setBidderSettings:function(e){e.bidderSettings={ix:{bidCpmAdjustment:Xe}}},setScoSettings:function(e,t){t&&(e.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:t.asi,sid:t.sellerId,hp:1}]}},e.bidderSettings.schain=e.schain)}},yt=function(e){e.prebid_analytics&&e.prebid_analytics.length&&e.prebid_analytics.forEach(function(e,t){0!==t&&ut.warn("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),gt.enableAnalytics(e),ut.log("[ANALYTICS]: Analytics enabled for ".concat(e.provider))})},ht=function(e){var t={};return mt.setPriceGranularity(t),t.enableSendAllBids=e&&!0===e.sendAllBids,mt.setConsentManagement(t,I),mt.setSizeConfig(t,I),mt.setUserSync(t),mt.setBidderSettings(t),mt.setScoSettings(t,I.sco),t},xt={loadPrebidLibrary:function(e){if(!gt||!gt.libLoaded){var t=a({},ft);return"true"===O("local_prebid")[1]?(ut.warn("[LOAD]: local version of prebid in use"),t.url="./"):t.url+="".concat(pt,"/").concat(I.fuse_id,"/"),O("originId")[1]&&(t.file+="?originId="+O("originId")[1]),j(t,function(){ut.log("[LOAD]: 3. Prebid ".concat(gt&&gt.libLoaded?"".concat(gt.version," is loaded and ready"):"not loaded")),ut.log("[TIME]: time in ms it took Prebid to load",new Date-he.getFuseDob()),e(),bt.pbjs&&bt.pbjs.libLoaded?bt.pbjs.renderAd||(bt.pbjs.renderAd=gt.renderAd):bt.pbjs=gt})}ut.log("[LOAD]: 3. Prebid ".concat(gt.version," is already loaded skip loading it again"))},pushToPrebidQue:function(e){gt&&gt.que?gt.que.push(e):ut.error("[PREBID]: No prebid que available")},setPrebidAdUnits:function(e){var t=he.getCurrentSizeMapSizes(e.id);ut.log("[BIDS]: Setting Prebid ad units for ".concat(e.code," with sizes ").concat(JSON.stringify(t))),gt.addAdUnits({code:e.code,mediaTypes:{banner:{sizes:t}},bids:e.bids})},getPrebidDefaultConfig:ht,setPrebidConfig:function(e){return e=e||ht(),ut.log("[BIDS]: Setting Prebid Config"),gt.setConfig(e),yt(I),e}};function St(e){return"object"===o(e)&&null!==e}var vt=function(){function t(e){r(this,t),this.browserWindow=e.browserWindow,this.userIdentityGlobal=e.userIdentityGlobal,this.placementId=e.placementId}return i(t,[{key:"setup",value:function(){var e,t=this,i=this.browserWindow[this.userIdentityGlobal];i&&St(i)&&(i.email||i.phoneNumber||i.emailHashes)?(e={placementID:this.placementId},i.email?e.email=i.email:i.phoneNumber?e.phoneNumber=i.phoneNumber:e.emailHashes=i.emailHashes):e={placementID:this.placementId,storageType:"localStorage",detectionType:"scrapeAndUrl",cssSelectors:["input[type=text]","input[type=email]"],detectionSubject:"all",urlParameter:"user_id",logging:"debug"};var n=document.createElement("script");n.src="https://ats.rlcdn.com/ats.js",n.onload=function(){t.browserWindow.ats.start(e)};i=this.browserWindow.document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}},{key:"configPrebid",value:function(e){return e.userSync||(e.userSync={}),e.userSync.userIds=[{name:"identityLink",params:{pid:this.placementId},storage:{type:"cookie",name:"idl_env",expires:7}}],e}}]),t}(),At=function(e){if(void 0!==e&&St(e))return Object.keys(e).length},zt=Ge.getLogger(),_t=Ge.getTargetAdSlotNodeIdPrefix(),It=Ge.getPackageVersion(),wt=Ge.isInDebugMode(),Pt=Ge.getPrebidGlobal(),kt=Ge.getGptSlotRegistry(),Et=Ge.getBrowserWindowObject(),Ct=Ge.getAmazonUam(),Dt=Ge.getConsentManger(),ve=Ge.isDomObserverMode(),Lt=Ge.getProblemReporter(),Tt=Ge.getWidgetsRenderer(),Ot=t,jt=Ot.fuse_settings;jt.pageTargeting=[],void 0!==ve&&(jt.useDomObserver=ve);var Nt=Et.fusetag||(Et.fusetag={que:[]});Nt.fuseUUID=Ot.fuse_uuid,Nt.initialised=Nt.initialised||!1,wt&&(Nt.version=It);var Bt={},Ft={},Wt=[],Mt={},Rt={},Gt={},Ut="onTagInitialised",Vt="onSlotsInitialised",qt="onSlotCreated",Ht=new at([Ut,Vt,qt],function(){return zt.log.apply(zt,arguments)});Nt.edgeHtmlMaxAdsRefreshLimit=jt.edgeHtmlMaxAdsRefreshLimit||60;var Zt={},Qt=function(e){delete Zt[e]},Kt=function e(){var t=Math.random().toString(16).slice(2);return Object.prototype.hasOwnProperty.call(Zt,t)?e():t},Jt=function(e){Zt[e]={aps:!1,prebid:!1}},Yt=function(e,t){e=ui(e,function(e){zt.info("[BIDS][".concat(t,"]: Skipped AdServer request because the slot was deleted ").concat(e))});We.refreshUnitsAsync(e,t),Qt(t)},Xt=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];Zt[t]?(e=ui(e,function(e){zt.info("[BIDS]: Skip Bidder back for deleted unit ".concat(e))}),jt.prebid.enabled&&jt.amazonUam.enabled?i?Zt[t].aps&&Zt[t].prebid?(zt.info("[BIDS][".concat(t,"]: Starting auction")),Yt(e,t)):zt.debug("[BIDS][".concat(t,"]: Still waiting for bids. Received: ").concat(JSON.stringify(Zt[t]))):(zt.info("[BIDS][".concat(t,"]: Timeout reached with missing responses, starting auction.\n        Received: ").concat(JSON.stringify(Zt[t]))),Yt(e,t)):Yt(e,t)):i&&zt.debug("[BIDS][".concat(t,"] Received ").concat(i," bid after adserver request already sent"))},wt=function(){return Bt},$t=function(){return Ft},It=function(){return Object.assign({},Ot)},ei=function(){Object.keys(Rt).forEach(function(e){return clearInterval(Rt[e])}),Rt={}},ti=["main","experiment"],ii=function(e,t,i){e+=500;zt.log("[BIDS][".concat(i,"]: Set bidders timeout ").concat(e)),window.setTimeout(function(){Xt(t,i)},e)},ni=function(e){var i=Kt();Jt(i);var t=e||Object.keys(Ft),n=he.getHeaderBiddingOptions(jt);zt.log("[REFRESH][".concat(i,"]: Refreshing slots: ").concat(JSON.stringify(t)));var r=ui(t,function(e){zt.info("[REFRESH]: Skip Refreshing slots for deleted unit ".concat(e))});if(!(n&&n.enabled||jt.amazonUam.enabled))return zt.debug("[GPT][".concat(i,"]: Refreshing without Prebid or UAM")),he.clearFuseSkins(),We.refreshUnitsAsync(r,i),void Qt(i);xt&&n.enabled&&xt.pushToPrebidQue(function(){Pt.adUnits?(zt.debug("[PREBID][".concat(i,"]: Updating pbGlobal sizemap")),Pt.adUnits=Pt.adUnits.map(function(e){var t=Ft[e.code];if(!t)return ci(e.code)&&zt.info("[BIDS]: Prebid Event fired for deleted unit ".concat(e.code)),zt.debug("[PREBID][".concat(i,"]: Could not find fuseslot for ").concat(e.code)),e;t=he.getCurrentSizeMapSizes(t.id);return e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=t),e}),ze.addAdEvent("prebid_request_all",i),zt.debug("[PREBID][".concat(i,"]: Requesting bids: ").concat(JSON.stringify(Pt.adUnits))),Pt.requestBids({adUnitCodes:r,timeout:n.timeout,bidsBackHandler:function(e){zt.debug("[PREBID][".concat(i,"]: Prebid bid response: "),JSON.stringify(e)),ze.addAdEvent("prebid_response_all",i),Pt.setTargetingForGPTAsync(),he.clearFuseSkins(),Zt[i].prebid=!0,Xt(r,i,"prebid")}})):zt.error("[PREBID][".concat(i,"]: prebidGlobal not ready"))}),jt.amazonUam.enabled&&Ft&&((e=Object.values(Ft).filter(function(e){return 0<=r.indexOf(e.code)}).map(function(e){return{slotID:e.code,slotName:e.slot,sizes:he.getCurrentSizeMapSizes(e.id)}}).filter(function(e){return e.sizes.length})).length?(ze.addAdEvent("uam_request_all",i),zt.debug("[UAM][".concat(i,"]: UAM slots "),JSON.stringify(e)),Ct.makeBids(e,function(e){zt.debug("[UAM][".concat(i,"]: UAM bid response for all "),JSON.stringify(e)),ze.addAdEvent("uam_response_all",i),Zt[i].aps=!0,Xt(r,i,"aps")})):zt.debug("[UAM][".concat(i,"]: Skipped UAM bid because no slots found"))),ii(n.timeout,t,i)},ri=function(r){if(r){var o=Kt();Jt(o),zt.log("[REFRESH][".concat(o,"]: Refreshing ").concat(r));var e,i,a=he.getHeaderBiddingOptions(jt),s=Ft[r];return s?a&&a.enabled||jt.amazonUam.enabled?(xt&&a.enabled&&(zt.debug("[REFRESH][".concat(o,"]: Pushed refresh of ").concat(r," to prebid queue")),xt.pushToPrebidQue(function(){var e,t,i;Pt&&Pt.adUnits&&(void 0!==(e=pi(r))&&(t=Pt.adUnits[e],zt.debug("[REFRESH][".concat(o,"]: Pushed refresh ").concat(JSON.stringify(t))),t&&(i=he.getCurrentSizeMapSizes(s.id),t.mediaTypes&&t.mediaTypes.banner&&(t.mediaTypes.banner.sizes=i),Pt.adUnits[e]=t))),zt.debug("[REFRESH][".concat(o,"]: Triggered prebid bid request for ").concat(r)),ze.addAdEvent("prebid_request_".concat(r),o);var n=new Date;Pt.requestBids({timeout:a.timeout,adUnitCodes:[r],bidsBackHandler:function(e){var t,i;t=r,i=new Date-n.getTime(),zt.log("[REFRESH][".concat(o,"]: Prebid response for ").concat(t," in ").concat(i,"ms: "),JSON.stringify(e)),ci(t)?zt.info("[BIDS]: Prebid bid response fired for deleted unit ".concat(t)):(ze.addAdEvent("prebid_response_".concat(t),o),Pt.setTargetingForGPTAsync([t]),Zt[o].prebid=!0,Xt([t],o,"prebid"))}})})),jt.amazonUam.enabled&&((e=he.getCurrentSizeMapSizes(s.id)).length?(e=[{slotID:s.code,slotName:s.slot,sizes:e}],ze.addAdEvent("uam_request_".concat(s.code),o),zt.debug("[REFRESH][".concat(o,"]: Triggered UAM bid request for ").concat(r)),i=new Date,Ct.makeBids(e,function(e){var t=new Date-i.getTime();zt.log("[REFRESH][".concat(o,"]: UAM bid response for ").concat(s.code," in ").concat(t,"ms: "),JSON.stringify(e)),ze.addAdEvent("uam_response_".concat(s.code),o),Zt[o].aps=!0,Xt([s.code],o,"aps")})):zt.debug("[REFRESH][".concat(o,"]: Skipped UAM bid because no sizes available"))),void ii(a.timeout,[r],o)):(ci(r)?zt.log("[REFRESH]: Skip refresh for deleted unit ".concat(r)):(ze.addAdEvent("request_creative_".concat(r)),We.refreshUnitsAsync([r],o)),void Qt(o)):(zt.warn("[REFRESH][".concat(o,"]: Skip refresh because slot for ").concat(r," not found")),ci(r)&&zt.log("[REFRESH]: Skip refresh for deleted unit ".concat(r)),void Qt(o))}},oi=function(t,e){Rt[t.code]&&clearInterval(Rt[t.code]),Rt[t.code]=setInterval(function(){var e=R.getCurrentBreakpoint();he.isEdgeBrowser()&&(Gt[t.code]=Gt[t.code]||0,Gt[t.code]>Nt.edgeHtmlMaxAdsRefreshLimit||!Et.document.hasFocus())?zt.log((Gt[t.code]>Nt.edgeHtmlMaxAdsRefreshLimit?'will skip refreshing ad(code: "'.concat(t.code,'") as it reached Edge browser ads refresh limit of ').concat(Nt.edgeHtmlMaxAdsRefreshLimit," at the moment - "):"will skip refreshing ad as browser page/tab is NOT active at the moment - ").concat((new Date).toISOString(),".")):t.element&&he.checkInView(Et.document.getElementById(t.code)||t.element,50,he.lazyDeviceToggle(t,e))&&(he.isEdgeBrowser()&&(Gt[t.code]+=1),ri(t.code))},1e3*e)},ai=function(e){e.attributes.refresh?(zt.log("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-he.getFuseDob()),oi(e,e.attributes.refresh)):0===e.attributes.refresh?zt.log("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-he.getFuseDob()):jt.refresh&&0<jt.refresh?(zt.log("[LOAD]: Setting global refresh time of ".concat(jt.refresh," seconds for ").concat(e.code," at: "),new Date-he.getFuseDob()),oi(e,jt.refresh)):zt.log("[LOAD]: No refresh timer exists in account settings.")},si=function(e){zt.log("[LOAD]: Loading ".concat(e," at ").concat(new Date-(he.getTime()||he.getFuseDob())));var t=he.getFuseUnitByCode(e);if(!t)return zt.warn("[LOAD] Unable to load ".concat(e," because that node could not be found in the DOM")),!1;t=t.getAttribute("data-fuse-code");t||zt.warn("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var i=$t()[t];return ci(i.code)?(zt.log("[LOAD]: Skip for deleted unit ".concat(i.code)),!1):i?(We.pushToGPTQue(function(){if(!ci(i.code)){var e=We.createGPTCall(i);return kt.add(i.id,e),e}zt.log("[LOAD]: Skip createGPTCall for deleted unit ".concat(i.code))}),xt&&0<jt.headerbidding&&xt.pushToPrebidQue(function(){ci(i.code)?zt.log("[LOAD]: Skip setPrebidAdUnits for deleted unit ".concat(i.code)):xt.setPrebidAdUnits(i)}),We.pushToGPTQue(function(){ci(i.code)?zt.log("[LOAD]: Skip makeGPTCall for deleted unit ".concat(i.code)):(ze.addAdEvent("call_gpt_".concat(i.code)),We.makeGPTCall(i))}),ri(i.code),ai(i),zt.log("[LOAD] Successfully loaded ".concat(e)),fi("loadFuseSlotByCode"),!0):(zt.error("[LOAD]: Unable to load ".concat(e," because the slot could not be found")),!1)},di=function(e,t){var i=t?Et.document.getElementById(t):he.getFuseUnitById(e);if(!i)return zt.warn("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));t=i.getAttribute("data-fuse-code");if(t&&Bt[t]===i)return zt.log("[SLOTS]: ".concat(e," has already with been bootstrapped and showing ad with ad slot ID ").concat(t));var n=JSON.parse(JSON.stringify(he.matchNodeToFuseSlotObject(i)));n&&(n.code="".concat(_t).concat(n.id,"-").concat(n.matched),he.buildFuseSlot(n,i),Ze&&n.attributes&&n.attributes.adblock&&Ze.buildAdBlockSlots(n,i),Ft[n.code]=n,Ft[n.code].element=i,Bt[n.code]=i,jt.useDomObserver&&(ot.addNodeDeletionObserver(n,bi),gi(n),fi("_loadSlotById_addNodeDeletionObserver")),We.pushToGPTQue(function(){if(!ci(n.code)){var e=We.createGPTCall(n);return kt.add(n.id,e),e}zt.log("[LOAD-BY-ID]: Skip createGPTCall for deleted unit ".concat(n.code))}),xt&&0<jt.headerbidding&&xt.pushToPrebidQue(function(){ci(n.code)?zt.log("[LOAD-BY-ID]: Skip setPrebidAdUnits for deleted unit ".concat(n.code)):xt.setPrebidAdUnits(n)}),We.pushToGPTQue(function(){ze.addAdEvent("call_gpt_".concat(n.code)),ci(n.code)?zt.log("[LOAD-BY-ID]: Skip makeGPTCall for deleted unit ".concat(n.code)):We.makeGPTCall(n)}),ai(n),Ht.emit(qt,n),ri(n.code),fi("_loadSlotById"))},at=function(e,t){zt.log("[EVENT]: loadSlotById(".concat(e,", ").concat(t,")")),Nt.initialised?di(e,t):Nt.onTagInitialised(function(){di(e,t)})},li=function(){zt.log("[EVENT]: resetSlots()"),he.setNewTime(new Date),jt.useDomObserver?zt.log("[EVENT]: resetSlots() using DomObserver"):(Object.keys(Ft).forEach(function(e){ci(e)&&zt.log("[EVENT]: resetSlots() unit already deleted ".concat(e)),Wt.push(e)}),kt.purgeAll(),Bt={},Ft={},Mt={},ei(),xt&&0<jt.headerbidding&&Pt&&Pt.adUnits&&Pt.removeAdUnit(),he.clearFuseSkins()),Object.keys(jt.pageTargeting).forEach(function(e){We.pushToGPTQue(function(){Et.googletag.pubads().clearTargeting(e.key)})}),fi("resetSlots")},ci=function(e){return-1!==Wt.indexOf(e)},ui=function(e,i){return e.filter(function(e){var t=!ci(e);return!t&&i&&i(e),t})},pi=function(t){return Pt&&Pt.adUnits?Pt.adUnits.findIndex(function(e){return e.code===t}):void 0},bi=function(e){var t=e.code,i=e.id;zt.log("[DOM-OBSERVER] run node deletion callback for ".concat(t)),ci(t)?zt.log("[DOM-OBSERVER] unit already deleted ".concat(t)):(Wt.push(t),delete Ft[t],kt.purgeByCode(i,t),Nt.disableRefresh(t),delete Mt[t],delete Bt[t],gi(e),fi("fuseNodeDeletionCallback"),Pt&&Pt.adUnits&&Pt.adUnits.length&&Pt.removeAdUnit(t))},gi=function(e){var t=e.code,i=e.id,n=kt.getSlots(i),e=pi(t);zt.debug("[RESOURCES] Resources for fuseSlot ".concat(t,"\n    gptSlots[").concat(i,"]:").concat(n?n.length:void 0,"\n    prebidGlobal.adUnits[").concat(t,"]: ").concat(void 0!==e?Pt.adUnits[e]:void 0,"\n    refreshData[").concat(t,"]: ").concat(Rt[t],"\n    refreshCounts[").concat(t,"]: ").concat(Gt[t]))},fi=function(e){zt.debug("[RESOURCES][".concat(e||"manual","] All Resources\n    gptSlots:").concat(kt.getSlotsLength(),"\n    FUSESLOTS:").concat(At(Ft),"\n    PROCESSED_FUSE_CODE:").concat(At(Mt),"\n    DELETED_FUSE_CODES:").concat(Wt.length,"\n    FUSEUNITS:").concat(At(Bt),"\n    prebidGlobal.adUnits: ").concat(Pt&&Pt.adUnits?Pt.adUnits.length:void 0,"\n    refreshData:").concat(At(Rt),"\n    refreshCounts:").concat(At(Gt),"\n    requestManager:").concat(At(Zt)))},mi=function(n){var e=he.getUnits(),r=[],o=[];e.forEach(function(e){var t,i=e.getAttribute("data-fuse-code");i&&n?zt.log("[SLOTS] Skip ".concat(i," because it was processed at time ").concat(Mt[i])):(i&&zt.warn("[SLOTS] Processing ".concat(i," again. This is likely to be an error, but preserved for backwards compatibility")),(t=he.matchNodeToFuseSlotObject(e))&&((t=JSON.parse(JSON.stringify(t))).code="".concat(_t).concat(t.id,"-").concat(t.matched),zt.log("[SLOTS] Processing fuseId ".concat(t.id," as ").concat(t.code)),he.buildFuseSlot(t,e),Ze&&t.attributes&&t.attributes.adblock&&Ze.buildAdBlockSlots(t,e),Ft[t.code]=t,Ft[t.code].element=e,Bt[t.code]=e,o.push(t.code),r.push(t),jt.useDomObserver&&(ot.addNodeDeletionObserver(t,bi),gi(t),fi("addNodeDeletionObserver")),i=R.getCurrentBreakpoint(),he.checkLazyFalsy(e,t,i)?(zt.log("[SLOTS]: Adding lazy listener for ".concat(t.code)),ct.addLazyListener(e,t,function(){return si(t.code)})):(We.pushToGPTQue(function(){if(!ci(t.code)){var e=We.createGPTCall(t);return kt.add(t.id,e),e}zt.log("[SLOTS]: Skip createGPTCall for deleted unit ".concat(t.code))}),xt&&0<jt.headerbidding&&t.bids&&0<t.bids.length&&xt.pushToPrebidQue(function(){ci(t.code)?zt.log("[SLOTS]: Skip setPrebidAdUnits for deleted unit ".concat(t.code)):xt.setPrebidAdUnits(t)}),We.pushToGPTQue(function(){ze.addAdEvent("call_gpt_".concat(t.code)),ci(t.code)?zt.log("[SLOTS]: Skip makeGPTCall for deleted unit ".concat(t.code)):We.makeGPTCall(t)}),ai(t)),zt.log("[SLOTS] Processed ".concat(t.code)),Mt[t.code]=he.getElapsedTime()))}),Ht.emit(Vt,r),We.pushToGPTQue(function(){We.setDefaultTargetingAsync(),jt.pageTargeting.forEach(function(e){We.setTargetingAsync(e.key,e.value)})}),o.length?ni(o):zt.debug("[SLOTS]: Refresh skipped because there's nothing to do"),fi("_processSlots")},yi=function(){zt.log("[EVENT]: loadSlots() started"),li(),ze.setStateStatus("process_slots_start"),mi(!1),ze.setStateStatus("process_slots_finish")};Nt.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return kt.getSlots("".concat(e))},Nt.setSlotTargetingById=function(e,t,i){zt.log("[EVENT]: setSlotTargetingById(".concat(e,", ").concat(t,", ").concat(i,") started")),!e||"string"!=typeof e&&"number"!=typeof e||kt.setSlotTargetingById(e,t,i)},Nt.onSlotRenderEnded=function(t){We.pushToGPTQue(function(){return We.eventSlotRenderEnded(function(e){t(e)})})},Nt.onTagInitialised=function(e){Ht.once(Ut,e)},Nt.onSlotsInitialised=function(e){Ht.once(Vt,e)},Nt.onSlotInitialised=function(e){Ht.once(qt,e)},Nt.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&Rt[e]?(zt.log("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(Rt[e])):(zt.log("[REFRESH]: Disabling refresh for all units"),ei())},Nt.setTargeting=function(i,e){var n=-1;jt.pageTargeting.forEach(function(e,t){-1===n&&e.key===i&&(n=t)}),-1<n?(jt.pageTargeting[n].value=e,zt.log("[LOAD]: Updating custom targeting for [key: ".concat(i,", value: ").concat(e,"]"))):(jt.pageTargeting.push({key:i,value:e}),zt.log("[LOAD]: Adding custom targeting for [key: ".concat(i,", value: ").concat(e,"]"))),Nt.initialised&&We.setTargetingAsync(i,e)},Nt.getTargeting=function(){return jt.pageTargeting},Nt.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){zt.error("Error processing command :",e.message,e.stack)}else zt.error("Commands written into fusetag.que.push must be wrapped in a function")};var hi=function(){Nt.loaded||(Nt.loaded=!0,he.getFuseQueue().forEach(function(e){if(zt.log("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){zt.error("Error processing command :",e.message,e.stack)}else zt.error("Commands written into fusetag.que.push must be wrapped in a function")}))},xi=function(){Nt.initialised?zt.log("[LOAD]: Fuse tag has been initialised, skip the remaining of the process"):(jt.disableWidgetsRenderer||Tt.render(Ot),ze.setStateStatus("fuse_queue_start"),hi(),ze.setStateStatus("fuse_queue_finish"),jt.disableAutoLoadSlots?zt.log("[LOAD]: disableAutoLoadSlots SET - NOT calling loadSlots"):(zt.log("[LOAD]: disableAutoLoadSlots NOT SET - calling loadSlots"),yi()),ze.setStateStatus("on_tag_init_start"),Ht.emit(Ut),ze.setStateStatus("on_tag_init_finish"),Nt.initialised=!0)};function Si(){return Et.googletag&&Et.googletag.apiReady}function vi(){return"loading"!==Et.document.readyState}function Ai(e){var t=e.disablePersonalisedAds,e=e.forceDisablePrebid;zt.log("[INIT]: disablePersonalisedAds is ".concat(t?"on":"off")),zt.log("[INIT]: forceDisablePrebid is ".concat(e?"on":"off")),t&&We.pushToGPTQue(function(){We.disablePersonalisedAds()}),e&&(jt.headerbidding=0,jt.prebid&&jt.prebid.breakpoint_options&&Object.keys(jt.prebid.breakpoint_options).forEach(function(e){jt.prebid.breakpoint_options[e].enabled=!1})),xt&&0<jt.headerbidding&&(ze.setStateStatus("prebid_load_start"),xt.loadPrebidLibrary(function(){ze.setStateStatus("prebid_load_finish")}),xt.pushToPrebidQue(function(){var e=jt.prebid&&!0===jt.prebid.sendAllBids,e=xt.getPrebidDefaultConfig({sendAllBids:e});jt.identity.enabled&&jt.identity.module&&(e=jt.identity.module.configPrebid(e)),xt.setPrebidConfig(e)}),We.pushToGPTQue(function(){Et.googletag.pubads().disableInitialLoad()}),zt.log("[PREBID]: Enabled with ".concat(jt.headerbidding,"ms timeout"))),jt.amazonUam.enabled&&(Ct.load(),Dt.gdprApplies?Ct.applyGDPR():Dt.ccpaApplies&&Ct.applyCCPA(Dt.ccpaPrivacyString),Ct.init(he.getFuseDob()),ze.setStateStatus("amazon")),Ze&&0<jt.adblock&&(Ze.createAdBlockObj(),ze.setStateStatus("adblock_load_start"),Ze.loadAdBlocklLibrary(function(){ze.setStateStatus("adblock_load_finish")}),zt.log("[ADBLOCK]: Enabled"));var i,n,r,o,a=Ot.fuse_slots.find(function(e){return e.attributes&&!0===e.attributes.interstitial});We.pushToGPTQue(function(){We.setTagSettings(),We.eventSlotRenderEnded(function(e){var t;e.hasCreative?zt.info("[BIDS]: Adserver responded with creative for ".concat(e.slotId)):zt.error("[BIDS]: Adserver responded without creative for ".concat(e.slotId)),e.hasCreative&&ze.addAdEvent("ad_render_".concat(e.slotId)),Ft[e.slotId]?(Ft[e.slotId].hasCreative=e.hasCreative,e.hasCreative||(t={fuseSlotId:Ft[e.slotId].id,fuseSlotCode:Ft[e.slotId].code,errorType:"MISSING_CREATIVE"},Lt.addSlotProblem(t))):ci(e.slotId)?zt.log("[BIDS]: Slot Render Ended Event fired for deleted unit ".concat(e.slotId)):zt.debug("[BIDS]: Slot Render Ended Event fired for non fuse units: ".concat(e.slotId))}),We.eventSlotImpressionViewable(Ft),We.enableServices(),We.setInterstitialSlot(a)}),R&&jt.responsive&&R.watchForBreakpoints(function(e){e&&(ni(),Tt.onBreakpointChange())}),jt.quickstart&&jt.disableAutoLoadSlots?xi():jt.quickstart&&!jt.disableAutoLoadSlots?(ze.setStateStatus("docready_wait_start"),vi()?(ze.setStateStatus("docready_wait_finish"),xi()):i=setInterval(function(){vi()&&(ze.setStateStatus("docready_wait_finish"),clearInterval(i),xi())},25)):(r=n=!1,ze.setStateStatus("gpt_apiready_wait_start"),ze.setStateStatus("docready_wait_start"),vi()&&Si()?(ze.setStateStatus("docready_wait_finish"),ze.setStateStatus("gpt_apiready_wait_finish"),xi()):o=setInterval(function(){!n&&vi()&&(n=!0,ze.setStateStatus("docready_wait_finish")),!r&&Si()&&(r=!0,ze.setStateStatus("gpt_apiready_wait_finish")),n&&r&&(clearInterval(o),xi())},25))}function zi(){return 1243===Ot.fuse_id||2561===Ot.fuse_id||jt.strict_cmp}Nt.init=Ai,Nt.setDefaultTargeting=We.setDefaultTargetingAsync,Nt.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Rt))},Nt.getSlots=$t,Nt.getSettings=It,Nt.getUnits=wt,Nt.loadSlots=yi,Nt.processNewSlots=function(){zt.log("[EVENT]: processNewSlots() started"),mi(!0),zt.debug("[EVENT]: processNewSlots() completed")},Nt.loadSlotById=at,Nt.refreshSlots=ni,Nt.refreshSlotByCode=ri,Nt.resetSlots=li,Nt.enableExperiment=function(e){var t;ti.includes(e)?(t=new Date((new Date).getTime()+2592e6),t="fuse_originId=".concat(e,";expires=").concat(t.toUTCString(),";path=/;"),Et.document.cookie=t,zt.log("Experiment type [".concat(e,"] set. Expires in ").concat(30," days."))):zt.error("Invalid experiment type. Valid types: ".concat(ti))},Nt.getCookie=function(){var e=Et.document.cookie.match("(^|;)\\s*fuse_originId\\s*=\\s*([^;]+)")||"";return e=Array.isArray(e)?e.pop():e},Nt.getCurrentBreakpoint=function(){return R.getCurrentBreakpoint()},Nt.setLogLevel=function(e){zt.setLogLevel(e)},Nt.getLogLevel=function(){return zt.getLogLevel()},Nt.getLogs=function(){return zt.getLogs()},Nt.getObservers=ot.getObservers,Nt.logResources=fi,Nt.getSlotProblems=function(){return Lt.getSlotProblems()},Nt.states=ze.states,Nt.events=ze.events,Nt.widgetsRenderer=Tt,Nt.getAdSlotsByFuseId=Nt.getAdSlotsById,Nt.getFuseSlots=$t,Nt.getFuseSettings=It,Nt.getFuseUnits=wt,Nt.loadFuseSlots=yi,Nt.resetFuseSlots=li,Nt.loadFuseSlotById=at,Nt.setSlotTargetingByFuseId=Nt.setSlotTargetingById,Nt.loaded&&zt.warn("[LOAD]: Fuse Tag was loaded more than once."),jt.confiant&&(ze.setStateStatus("confiant_load_start"),$e.enable(function(){ze.setStateStatus("confiant_load_finish")})),jt.cmp&&(1243===Ot.fuse_id||2561===Ot.fuse_id||jt.disable_quantcast?(Dt.generateStubs(),Dt.loadVersion()):(Dt.init(),ze.setStateStatus("cmp_load_start"))),jt.blockthrough&&(ze.setStateStatus("blockthrough_load_start"),Ke.enable(function(){ze.setStateStatus("blockthrough_load_finish")})),jt.identity&&jt.identity.enabled&&(jt.identity.module||(jt.identity.module=new vt({browserWindow:Et,userIdentityGlobal:jt.identity.userIdentityGlobal,placementId:jt.identity.placementId}),jt.identity.module.setup()));try{zt.log("[INIT][onFuseLoadCallback] Start"),zt.debug("[INIT][onFuseLoadCallback] Finish")}catch(e){zt.error("[INIT][onFuseLoadCallback] Encountered error during evaluation",e)}function _i(){ze.setStateStatus("gpt_load_start"),We.createGPTObj(),We.loadGPTLibrary(function(){ze.setStateStatus("gpt_load_finish")}),We.pushToGPTQue(function(){zt.debug("First fuse queued GPT event executed"),ze.setStateStatus("gpt_queue_start")})}var Ii,wi,Pi;jt.wait_cmp_ready&&"function"==typeof __tcfapi?(Ii=!1,zt.log("[LOAD]: 3. Wait for CMP to load before start loading GPT"),setTimeout(function(){Ii||(zt.log("[LOAD]: 3. CMP has not been loaded after 3s ignore and continue"),_i())},3e3),Et.__tcfapi("addEventListener",2,function(e){Ii||(zt.log("[LOAD]: 3. CMP has been loaded, going to load GPT script"),_i(),Ii=!0),e&&e.listenerId&&Et.__tcfapi("addEventListener",2,function(){},e.listenerId)})):_i(),jt.skip_auto_init?zt.log("[INIT]: auto init is off skip Fuse init"):jt.cmp?(zt.log("[CMP]: Found IAB CMP, checking for status before initiating"),wi=1,Pi=setInterval(function(){Dt.cmpLoaded(function(e){if(!e)return wi<200?void(wi+=1):(clearInterval(Pi),void(zi()?(zt.info("[CMP]: Not loaded and timeout reached, disabling personalisation"),Ai({disablePersonalisedAds:!0,forceDisablePrebid:!0})):(zt.info("[CMP]: Not loaded and timeout reached, continuing with personalisation"),Ai({disablePersonalisedAds:!1,forceDisablePrebid:!1}))));zt.log("[CMP]: Loaded version ".concat(Dt.versionNumber,", checking for consent")),ze.setStateStatus("cmp_loaded"),clearInterval(Pi);e=function e(t){var i=t.consentReceived,n=t.personalisedAdsConsent,r=t.googlePersonalisedAdsConsent,t=t.gdprApplies;if(!1===t){zt.log("[CMP]: Not in GDPR region");var o=!1,a=!1;return setTimeout(function(){if(!a)return zt.warn("[CMP]: USP API is not responding, continue as if not in CCPA region"),Dt.setNonPrivacyRegionsPrompt(),Ai({disablePersonalisedAds:o,forceDisablePrebid:o})},1e3),void Dt.checkForCCPA(function(e){return a=!0,e.applies?(Dt.setCCPAConsentPrompt(),Dt.setCCPA(e.applies),Dt.setPrivacyString(e.privacyString),o="Y"===e.privacyString[2].toUpperCase()):(zt.log("[CMP]: Not in CCPA region, continue with personalisation"),Dt.setNonPrivacyRegionsPrompt()),Ai({disablePersonalisedAds:o,forceDisablePrebid:o})})}if(i||!(wi<200))return Dt.setGDPR(t),Dt.setGDPRConsentPrompt(),200===wi&&(ze.setStateStatus("cmp_determination_timeout"),zi()?(zt.info("[CMP]: Determination not received and timeout reached, disabling personalisation"),Ai({disablePersonalisedAds:!0,forceDisablePrebid:!0})):(zt.info("[CMP]: Determination not received and timeout reached, continuing with personalisation"),Ai({disablePersonalisedAds:!1,forceDisablePrebid:!1}))),ze.setStateStatus("cmp_determination_received"),zt.log("[CMP]: ".concat(r?"[Y]":"[N]"," Google Personalised Ads")),zt.log("[CMP]: ".concat(n?"[Y]":"[N]"," Vendors Personalised Ads")),Ai({disablePersonalisedAds:!r,forceDisablePrebid:!n});setTimeout(function(){wi+=1,Dt.getConsentData(e)},100)};Dt.getConsentData(e)})},100)):(zt.log("[CMP]: No CMP found, continue to init Fuse"),Ai(!1)),Ge.getBrowserWindowObject()});
